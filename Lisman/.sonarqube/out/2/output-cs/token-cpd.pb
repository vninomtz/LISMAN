å\
âC:\Users\Vik-t\Documents\Software Engineering\5to Semestre\Tecnolog√≠as para la Construcci√≥n\Proyecto\LISMAN\Lisman\Lisman\Lobby.xaml.cs
	namespace 	
Lisman
 
{ 
public 

partial 
class 
Lobby 
:  
Window! '
,' (
LismanService) 6
.6 7 
IChatManagerCallback7 K
{L M
int 
COMPLETEPLAYERS 
= 
$num 
;  
InstanceContext 
instance  
=! "
null# '
;' (
LismanService 
. 
ChatManagerClient '
client( .
=/ 0
null1 5
;5 6
int 
idGame 
; 
public 
Lobby 
( 
int 
idGame 
)  
{ 	
InitializeComponent 
(  
)  !
;! "
instance 
= 
new 
InstanceContext *
(* +
this+ /
)/ 0
;0 1
this 
. 
idGame 
= 
idGame  
;  !
client 
= 
new 
ChatManagerClient *
(* +
instance+ 3
)3 4
;4 5
try 
{ 
client 
. 
JoinChat 
(  
SingletonAccount  0
.0 1
getSingletonAccount1 D
(D E
)E F
.F G
UserG K
,K L
idGameM S
)S T
;T U!
textBlock_name_player %
.% &
Text& *
=+ ,
SingletonAccount- =
.= >
getSingletonAccount> Q
(Q R
)R S
.S T
UserT X
;X Y
btn_startGame 
. 
	IsEnabled '
=( )
false* /
;/ 0
} 
catch 
( 
	Exception 
ex 
)  
{ 

MessageBox   
.   
Show   
(    

Properties    *
.  * +
	Resources  + 4
.  4 5#
server_conecction_error  5 L
)  L M
;  M N
Logger!! 
.!! 
log!! 
.!! 
Warn!! 
(!!  
$str!!  1
+!!2 3
ex!!4 6
.!!6 7
Message!!7 >
)!!> ?
;!!? @
}## 
}'' 	
private)) 
void)) 
Button_Click_Cancel)) (
())( )
object))) /
sender))0 6
,))6 7
RoutedEventArgs))8 G
e))H I
)))I J
{** 	
MultiplayerHome++ 
homeMultiplayer++ +
=++, -
new++. 1
MultiplayerHome++2 A
(++A B
)++B C
;++C D
homeMultiplayer,, 
.,, 
Show,,  
(,,  !
),,! "
;,," #
this-- 
.-- 
Close-- 
(-- 
)-- 
;-- 
}.. 	
private00 
void00 
btn_exitGame_Click00 '
(00' (
object00( .
sender00/ 5
,005 6
RoutedEventArgs007 F
e00G H
)00H I
{00J K
MultiplayerHome11 
homeMultiplayer11 +
=11, -
new11. 1
MultiplayerHome112 A
(11A B
)11B C
;11C D
LismanService22 
.22 
GameManagerClient22 +

clientGame22, 6
=227 8
new229 <
LismanService22= J
.22J K
GameManagerClient22K \
(22\ ]
)22] ^
;22^ _
try44 
{55 

clientGame66 
.66 
	LeaveGame66 $
(66$ %
SingletonAccount66% 5
.665 6
getSingletonAccount666 I
(66I J
)66J K
.66K L
User66L P
,66P Q
idGame66R X
)66X Y
;66Y Z
client77 
.77 
	LeaveChat77  
(77  !
SingletonAccount77! 1
.771 2
getSingletonAccount772 E
(77E F
)77F G
.77G H
User77H L
,77L M
idGame77N T
)77T U
;77U V
homeMultiplayer88 
.88  
Show88  $
(88$ %
)88% &
;88& '
this99 
.99 
Close99 
(99 
)99 
;99 
}:: 
catch;; 
(;; 
	Exception;; 
ex;; 
);;  
{<< 

MessageBox== 
.== 
Show== 
(==  

Properties==  *
.==* +
	Resources==+ 4
.==4 5#
server_conecction_error==5 L
)==L M
;==M N
Logger>> 
.>> 
log>> 
.>> 
Warn>> 
(>>  
$str>>  =
+>>> ?
ex>>@ B
.>>B C
Message>>C J
)>>J K
;>>K L
}?? 
}CC 	
publicEE 
voidEE 
NotifyMessageEE !
(EE! "
MessageEE" )
messageEE* 1
)EE1 2
{FF 	
textBox_chatGG 
.GG 
TextGG 
+=GG  
$strGG! %
+GG& '
messageGG( /
.GG/ 0
AccountGG0 7
.GG7 8
UserGG8 <
+GG= >
$strGG? C
+GGD E
messageGGF M
.GGM N
TextGGN R
;GGR S
}II 	
publicKK 
voidKK 
NotifyJoinedPlayerKK &
(KK& '
stringKK' -
userKK. 2
)KK2 3
{LL 	
textBox_chatMM 
.MM 
TextMM 
+=MM  
$strMM! %
+MM& '
userMM( ,
+MM- .

PropertiesMM/ 9
.MM9 :
	ResourcesMM: C
.MMC D
joined_gameMMD O
;MMO P
}PP 	
publicRR 
voidRR 
SendMessageRR 
(RR  
)RR  !
{RR" #
RandomSS 
rdSS 
=SS 
newSS 
RandomSS "
(SS" #
$numSS# &
)SS& '
;SS' (
ifTT 
(TT 
textBox_messageTT 
.TT  
TextTT  $
!=TT% '
StringTT( .
.TT. /
EmptyTT/ 4
)TT4 5
{TT6 7
MessageUU 
messageUU 
=UU  !
newUU" %
MessageUU& -
{UU. /
IdWW 
=WW 
rdWW 
.WW 
NextWW  
(WW  !
)WW! "
,WW" #
Creation_dateXX !
=XX" #
DateTimeXX$ ,
.XX, -
NowXX- 0
,XX0 1
TextYY 
=YY 
textBox_messageYY *
.YY* +
TextYY+ /
,YY/ 0
AccountZZ 
=ZZ 
SingletonAccountZZ .
.ZZ. /
getSingletonAccountZZ/ B
(ZZB C
)ZZC D
}[[ 
;[[ 
try]] 
{^^ 
client__ 
.__ 
SendMessage__ &
(__& '
message__' .
,__. /
idGame__0 6
)__6 7
;__7 8
textBox_message`` #
.``# $
Text``$ (
=``) *
String``+ 1
.``1 2
Empty``2 7
;``7 8
}aa 
catchbb 
(bb 
	Exceptionbb  
exbb! #
)bb# $
{cc 

MessageBoxdd 
.dd 
Showdd #
(dd# $

Propertiesdd$ .
.dd. /
	Resourcesdd/ 8
.dd8 9#
server_conecction_errordd9 P
)ddP Q
;ddQ R
Loggeree 
.ee 
logee 
.ee 
Warnee #
(ee# $
$stree$ :
+ee; <
exee= ?
.ee? @
Messageee@ G
)eeG H
;eeH I
}ff 
}jj 
}nn 	
privatepp 
voidpp 
button_send_Clickpp &
(pp& '
objectpp' -
senderpp. 4
,pp4 5
RoutedEventArgspp6 E
eppF G
)ppG H
{qq 	
SendMessagerr 
(rr 
)rr 
;rr 
}ss 	
publicvv 
voidvv 
NotifyNumberPlayersvv '
(vv' (
intvv( +
numberPlayersvv, 9
)vv9 :
{ww 	
ifxx 
(xx 
numberPlayersxx 
==xx 
COMPLETEPLAYERSxx  /
)xx/ 0
{xx1 2
btn_startGameyy 
.yy 
	IsEnabledyy '
=yy( )
trueyy* .
;yy. /
}zz $
textBlock_number_players{{ $
.{{$ %
Text{{% )
={{* +
numberPlayers{{- :
+{{; <
$str{{= C
;{{C D
}|| 	
public 
void 
On_key_Down_Handler '
(' (
object( .
sender/ 5
,5 6
KeyEventArgs7 C
eD E
)E F
{G H
if
ÄÄ 
(
ÄÄ 
e
ÄÄ 
.
ÄÄ 
Key
ÄÄ 
==
ÄÄ 
Key
ÄÄ 
.
ÄÄ 
Return
ÄÄ #
)
ÄÄ# $
{
ÄÄ% &
SendMessage
ÅÅ 
(
ÅÅ 
)
ÅÅ 
;
ÅÅ 
}
ÇÇ 
}
ÉÉ 	
public
ÖÖ 
void
ÖÖ 
NotifyLeftPlayer
ÖÖ $
(
ÖÖ$ %
string
ÖÖ% +
user
ÖÖ, 0
)
ÖÖ0 1
{
ÖÖ2 3
textBox_chat
ÜÜ 
.
ÜÜ 
Text
ÜÜ 
+=
ÜÜ  
user
ÜÜ! %
+
ÜÜ& '

Properties
ÜÜ( 2
.
ÜÜ2 3
	Resources
ÜÜ3 <
.
ÜÜ< =
	left_game
ÜÜ= F
;
ÜÜF G
}
áá 	
private
ââ 
void
ââ !
btn_startGame_Click
ââ (
(
ââ( )
object
ââ) /
sender
ââ0 6
,
ââ6 7
RoutedEventArgs
ââ8 G
e
ââH I
)
ââI J
{
ää 	
try
ãã 
{
ãã 
client
åå 
.
åå 
	StartGame
åå  
(
åå  !
SingletonAccount
åå! 1
.
åå1 2!
getSingletonAccount
åå2 E
(
ååE F
)
ååF G
.
ååG H
User
ååH L
,
ååL M
idGame
ååN T
)
ååT U
;
ååU V
}
çç 
catch
éé 
(
éé 
	Exception
éé 
ex
éé 
)
éé  
{
èè 

MessageBox
êê 
.
êê 
Show
êê 
(
êê  

Properties
êê  *
.
êê* +
	Resources
êê+ 4
.
êê4 5%
server_conecction_error
êê5 L
)
êêL M
;
êêM N
Console
ëë 
.
ëë 
	WriteLine
ëë !
(
ëë! "
$str
ëë" 7
+
ëë8 9
ex
ëë: <
.
ëë< =
Message
ëë= D
)
ëëD E
;
ëëE F
}
ìì 
}
ïï 	
public
óó 
void
óó 
InitGame
óó 
(
óó 
)
óó 
{
òò 	
MultiplayerGame
ôô 
game
ôô  
=
ôô! "
new
ôô# &
MultiplayerGame
ôô' 6
(
ôô6 7
idGame
ôô7 =
)
ôô= >
;
ôô> ?
game
öö 
.
öö 
Show
öö 
(
öö 
)
öö 
;
öö 
this
õõ 
.
õõ 
Close
õõ 
(
õõ 
)
õõ 
;
õõ 
}
úú 	
}
ùù 
}ûû è
ÖC:\Users\Vik-t\Documents\Software Engineering\5to Semestre\Tecnolog√≠as para la Construcci√≥n\Proyecto\LISMAN\Lisman\Lisman\Logger.cs
	namespace 	
Lisman
 
{ 
class		 	
Logger		
 
{

 
public 
static 
readonly 
log4net &
.& '
ILog' +
log, /
=0 1
log4net2 9
.9 :

LogManager: D
.D E
	GetLoggerE N
(N O
SystemO U
.U V

ReflectionV `
.` a

MethodBasea k
.k l
GetCurrentMethodl |
(| }
)} ~
.~ 
DeclaringType	 å
)
å ç
;
ç é
} 
} É
åC:\Users\Vik-t\Documents\Software Engineering\5to Semestre\Tecnolog√≠as para la Construcci√≥n\Proyecto\LISMAN\Lisman\Lisman\MainMenu.xaml.cs
	namespace 	
Lisman
 
{ 
public 

partial 
class 
MainMenu !
:" #
Window$ *
{+ ,
public 
MainMenu 
( 
) 
{		 	
InitializeComponent

 
(

  
)

  !
;

! "
} 	
private 
void 
Button_Click_Logout (
(( )
object) /
sender0 6
,6 7
RoutedEventArgs8 G
eH I
)I J
{ 	

MainWindow 
login 
= 
new "

MainWindow# -
(- .
). /
;/ 0
login 
. 
Show 
( 
) 
; 
this 
. 
Close 
( 
) 
; 
} 	
private 
void !
table_positions_Click *
(* +
object+ 1
sender2 8
,8 9
RoutedEventArgs: I
eJ K
)K L
{ 	
PositionsTable 
	positions $
=% &
new' *
PositionsTable+ 9
(9 :
): ;
;; <
	positions 
. 
Show 
( 
) 
; 
this 
. 
Close 
( 
) 
; 
} 	
private 
void (
button_multiplayerMode_Click 1
(1 2
object2 8
sender9 ?
,? @
RoutedEventArgsA P
eQ R
)R S
{ 	
MultiplayerHome 
multiplayerWindow -
=. /
new0 3
MultiplayerHome4 C
(C D
)D E
;E F
multiplayerWindow 
. 
Show "
(" #
)# $
;$ %
this 
. 
Close 
( 
) 
; 
}!! 	
}$$ 
}%% ‹!
ìC:\Users\Vik-t\Documents\Software Engineering\5to Semestre\Tecnolog√≠as para la Construcci√≥n\Proyecto\LISMAN\Lisman\Lisman\MultiplayerHome.xaml.cs
	namespace 	
Lisman
 
{ 
public		 

partial		 
class		 
MultiplayerHome		 (
:		) *
Window		+ 1
{		2 3
public

 
MultiplayerHome

 
(

 
)

  
{ 	
InitializeComponent 
(  
)  !
;! "
} 	
private 
void 
button_goBack_Click (
(( )
object) /
sender0 6
,6 7
RoutedEventArgs8 G
eH I
)I J
{ 	
MainMenu 
menu 
= 
new 
MainMenu  (
(( )
)) *
;* +
menu 
. 
Show 
( 
) 
; 
this 
. 
Close 
( 
) 
; 
} 	
private 
void  
button_newGame_Click )
() *
object* 0
sender1 7
,7 8
RoutedEventArgs9 H
eI J
)J K
{ 	
LismanService 
. 
GameManagerClient +
client, 2
=3 4
new5 8
LismanService9 F
.F G
GameManagerClientG X
(X Y
)Y Z
;Z [
try 
{ 
int 
idGame 
= 
client #
.# $

CreateGame$ .
(. /
SingletonAccount/ ?
.? @
getSingletonAccount@ S
(S T
)T U
.U V
UserV Z
)Z [
;[ \
if 
( 
idGame 
> 
$num 
) 
{ 
Lobby 
lobby 
=  !
new" %
Lobby& +
(+ ,
idGame, 2
)2 3
;3 4
lobby   
.   
Show   
(   
)    
;    !
this!! 
.!! 
Close!! 
(!! 
)!!  
;!!  !
}"" 
}## 
catch$$ 
($$ 
	Exception$$ 
ex$$ 
)$$  
{%% 

MessageBox'' 
.'' 
Show'' 
(''  
$str''  `
)''` a
;''a b
Logger(( 
.(( 
log(( 
.(( 
Error((  
(((  !
$str((! 4
)((4 5
;((5 6
})) 
}-- 	
private// 
void// !
button_joinGame_Click// *
(//* +
object//+ 1
sender//2 8
,//8 9
RoutedEventArgs//: I
e//J K
)//K L
{00 	
LismanService11 
.11 
GameManagerClient11 +
client11, 2
=113 4
new115 8
LismanService119 F
.11F G
GameManagerClient11G X
(11X Y
)11Y Z
;11Z [
int22 
idGame22 
=22 
client22 
.22  
JoinGame22  (
(22( )
SingletonAccount22) 9
.229 :
getSingletonAccount22: M
(22M N
)22N O
.22O P
User22P T
)22T U
;22U V
if33 
(33 
idGame33 
>33 
$num33 
)33 
{33 
Lobby44 
lobby44 
=44 
new44 !
Lobby44" '
(44' (
idGame44( .
)44. /
;44/ 0
lobby55 
.55 
Show55 
(55 
)55 
;55 
this66 
.66 
Close66 
(66 
)66 
;66 
}77 
else77 
{77 

MessageBox88 
.88 
Show88 
(88  

Properties88  *
.88* +
	Resources88+ 4
.884 5!
message_nogames_found885 J
)88J K
;88K L
}99 
}<< 	
}== 
}>> ¬Å
ìC:\Users\Vik-t\Documents\Software Engineering\5to Semestre\Tecnolog√≠as para la Construcci√≥n\Proyecto\LISMAN\Lisman\Lisman\MultiplayerGame.xaml.cs
	namespace 	
Lisman
 
{ 
public 

partial 
class 
MultiplayerGame (
:) *
Window+ 1
,1 2'
IMultiplayerManagerCallback3 N
{N O
int 
idgame 
; 
int 
[ 
, 
] 
gameMap 
= 
new 
int  
[  !
$num! #
,# $
$num% '
]' (
;( )
Image 
[ 
, 
] 
matrixPillsImages "
=# $
new% (
Image) .
[. /
$num/ 1
,1 2
$num3 5
]5 6
;6 7
const 
int 
LISMANYELLOW 
=  
$num! "
;" #
const 
int 
	LISMANRED 
= 
$num 
;  
const 
int 

LISMANBLUE 
= 
$num  
;  !
const 
int 
LISMANGREEN 
= 
$num  !
;! "
int 
speedLisman 
= 
$num 
; 
int 
timerValidation 
= 
$num 
;  
int 
playerColor 
; 
Image   
lismanPlayerImage   
=    !
null  " &
;  & '
int"" 
X"" 
="" 
$num"" 
;"" 
int## 
Y## 
=## 
$num## 
;## 
String%% 
parentDirectory%% 
=%%  
	Directory%%! *
.%%* +
	GetParent%%+ 4
(%%4 5
	Directory%%5 >
.%%> ?
GetCurrentDirectory%%? R
(%%R S
)%%S T
)%%T U
.%%U V
Parent%%V \
.%%\ ]
FullName%%] e
;%%e f
Image'' 
pill0'' 
='' 
new'' 
Image'' 
(''  
)''  !
;''! "
Image(( 
pill1(( 
=(( 
new(( 
Image(( 
(((  
)((  !
;((! "
Image)) 
pill2)) 
=)) 
new)) 
Image)) 
())  
)))  !
;))! "
Image** 
pill3** 
=** 
new** 
Image** 
(**  
)**  !
;**! "
Image++ 
pill4++ 
=++ 
new++ 
Image++ 
(++  
)++  !
;++! "
Image,, 
pill5,, 
=,, 
new,, 
Image,, 
(,,  
),,  !
;,,! "
Image-- 
pill6-- 
=-- 
new-- 
Image-- 
(--  
)--  !
;--! "
Image.. 
pill7.. 
=.. 
new.. 
Image.. 
(..  
)..  !
;..! "
Image// 
pill8// 
=// 
new// 
Image// 
(//  
)//  !
;//! "
Image00 
pill900 
=00 
new00 
Image00 
(00  
)00  !
;00! "
Image11 
pill1011 
=11 
new11 
Image11  
(11  !
)11! "
;11" #
Image22 
pill1122 
=22 
new22 
Image22  
(22  !
)22! "
;22" #
DispatcherTimer44 
runLeft44 
=44  !
new44" %
DispatcherTimer44& 5
(445 6
)446 7
;447 8
DispatcherTimer55 
runUp55 
=55 
new55  #
DispatcherTimer55$ 3
(553 4
)554 5
;555 6
DispatcherTimer66 
runRight66  
=66! "
new66# &
DispatcherTimer66' 6
(666 7
)667 8
;668 9
DispatcherTimer77 
runDown77 
=77  !
new77" %
DispatcherTimer77& 5
(775 6
)776 7
;777 8
DispatcherTimer88 
	timePower88 !
=88" #
new88$ '
DispatcherTimer88( 7
(887 8
)888 9
;889 :
InstanceContext:: 
instace:: 
=::  !
null::" &
;::& '$
MultiplayerManagerClient;;  
client;;! '
=;;( )
null;;* .
;;;. /
public== 
MultiplayerGame== 
(== 
int== "
idgame==# )
)==) *
{>> 	
InitializeComponent?? 
(??  
)??  !
;??! "
instace@@ 
=@@ 
new@@ 
InstanceContext@@ )
(@@) *
this@@* .
)@@. /
;@@/ 0
thisAA 
.AA 
idgameAA 
=AA 
idgameAA  
;AA  !
clientBB 
=BB 
newBB $
MultiplayerManagerClientBB 1
(BB1 2
instaceBB2 9
)BB9 :
;BB: ;
tryCC 
{DD 
clientEE 
.EE 
JoinMultiplayerGameEE *
(EE* +
SingletonAccountEE+ ;
.EE; <
getSingletonAccountEE< O
(EEO P
)EEP Q
.EEQ R
UserEER V
,EEV W
idgameEEX ^
)EE^ _
;EE_ `
}FF 
catchGG 
(GG 
	ExceptionGG 
exGG 
)GG  
{HH 

MessageBoxII 
.II 
ShowII 
(II  

PropertiesII  *
.II* +
	ResourcesII+ 4
.II4 5#
server_conecction_errorII5 L
)IIL M
;IIM N
LoggerJJ 
.JJ 
logJJ 
.JJ 
ErrorJJ  
(JJ  !
exJJ! #
)JJ# $
;JJ$ %
}LL 
UserConnectedMM 
.MM 
TextMM 
=MM  
SingletonAccountMM! 1
.MM1 2
getSingletonAccountMM2 E
(MME F
)MMF G
.MMG H
UserMMH L
;MML M
runLeftQQ 
.QQ 
TickQQ 
+=QQ 
newQQ  
EventHandlerQQ! -
(QQ- .
RunLeftQQ. 5
)QQ5 6
;QQ6 7
runLeftRR 
.RR 
IntervalRR 
=RR 
newRR "
TimeSpanRR# +
(RR+ ,
$numRR, -
,RR- .
$numRR/ 0
,RR0 1
$numRR2 3
,RR3 4
$numRR5 6
,RR6 7
speedLismanRR8 C
)RRC D
;RRD E
runUpSS 
.SS 
TickSS 
+=SS 
newSS 
EventHandlerSS *
(SS* +
RunUpSS+ 0
)SS0 1
;SS1 2
runUpTT 
.TT 
IntervalTT 
=TT 
newTT  
TimeSpanTT! )
(TT) *
$numTT* +
,TT+ ,
$numTT- .
,TT. /
$numTT0 1
,TT1 2
$numTT3 4
,TT4 5
speedLismanTT5 @
)TT@ A
;TTA B
runRightUU 
.UU 
TickUU 
+=UU 
newUU  
EventHandlerUU! -
(UU- .
RunRightUU. 6
)UU6 7
;UU7 8
runRightVV 
.VV 
IntervalVV 
=VV 
newVV  #
TimeSpanVV$ ,
(VV, -
$numVV- .
,VV. /
$numVV0 1
,VV1 2
$numVV3 4
,VV4 5
$numVV6 7
,VV7 8
speedLismanVV9 D
)VVD E
;VVE F
runDownWW 
.WW 
TickWW 
+=WW 
newWW 
EventHandlerWW  ,
(WW, -
RunDownWW- 4
)WW4 5
;WW5 6
runDownXX 
.XX 
IntervalXX 
=XX 
newXX "
TimeSpanXX# +
(XX+ ,
$numXX, -
,XX- .
$numXX/ 0
,XX0 1
$numXX2 3
,XX3 4
$numXX5 6
,XX6 7
speedLismanXX8 C
)XXC D
;XXD E

MatrixGame^^ 
(^^ 
)^^ 
;^^ 
	DrawPills__ 
(__ 
)__ 
;__ #
createMatrixPillsImages`` #
(``# $
)``$ %
;``% &
}bb 	
publicdd 
voiddd 

MatrixGamedd 
(dd 
)dd  
{dd! "
usingee 
(ee 
StreamReaderee 
sree  "
=ee# $
newee% (
StreamReaderee) 5
(ee5 6
parentDirectoryee6 E
+eeF G
$streeH \
)ee\ ]
)ee] ^
{ee_ `
forgg 
(gg 
intgg 
igg 
=gg 
$numgg 
;gg 
igg  !
<=gg" $
$numgg% '
;gg' (
igg) *
++gg* ,
)gg, -
{gg. /
forhh 
(hh 
inthh 
jhh 
=hh  
$numhh! "
;hh" #
jhh$ %
<=hh& (
$numhh) +
;hh+ ,
jhh- .
++hh. 0
)hh0 1
{hh2 3
intii 
caracterii $
=ii% &
srii' )
.ii) *
Readii* .
(ii. /
)ii/ 0
;ii0 1
ifkk 
(kk 
caracterkk $
!=kk% '
-kk( )
$numkk) *
)kk* +
{kk, -
switchll "
(ll# $
caracterll$ ,
)ll, -
{ll- .
casemm  $
$nummm% '
:mm' (
gameMapnn$ +
[nn+ ,
inn, -
,nn- .
jnn/ 0
]nn0 1
=nn2 3
$numnn4 5
;nn5 6
breakoo$ )
;oo) *
casepp  $
$numpp% '
:pp' (
gameMapqq$ +
[qq+ ,
iqq, -
,qq- .
jqq/ 0
]qq0 1
=qq2 3
$numqq4 5
;qq5 6
breakrr$ )
;rr) *
casess  $
$numss% '
:ss' (
gameMaptt$ +
[tt+ ,
itt, -
,tt- .
jtt/ 0
]tt0 1
=tt2 3
$numtt4 5
;tt5 6
breakuu$ )
;uu) *
casevv  $
$numvv% '
:vv' (
gameMapww$ +
[ww+ ,
iww, -
,ww- .
jww/ 0
]ww0 1
=ww2 3
$numww4 5
;ww5 6
breakxx$ )
;xx) *
caseyy  $
$numyy% '
:yy' (
gameMapzz$ +
[zz+ ,
izz, -
,zz- .
jzz/ 0
]zz0 1
=zz2 3
$numzz4 5
;zz5 6
break{{$ )
;{{) *
case||  $
$num||% '
:||' (
gameMap}}$ +
[}}+ ,
i}}, -
,}}- .
j}}/ 0
]}}0 1
=}}2 3
$num}}4 5
;}}5 6
break~~$ )
;~~) *
case  $
$num% '
:' (
gameMap
ÄÄ$ +
[
ÄÄ+ ,
i
ÄÄ, -
,
ÄÄ- .
j
ÄÄ/ 0
]
ÄÄ0 1
=
ÄÄ2 3
$num
ÄÄ4 5
;
ÄÄ5 6
break
ÅÅ$ )
;
ÅÅ) *
case
ÇÇ  $
$num
ÇÇ% '
:
ÇÇ' (
gameMap
ÉÉ$ +
[
ÉÉ+ ,
i
ÉÉ, -
,
ÉÉ- .
j
ÉÉ/ 0
]
ÉÉ0 1
=
ÉÉ2 3
$num
ÉÉ4 5
;
ÉÉ5 6
break
ÑÑ$ )
;
ÑÑ) *
}
ÖÖ 
}
ÜÜ 
}
àà 
}
ââ 
}
ãã 
}
çç 	
public
èè 
void
èè %
createMatrixPillsImages
èè +
(
èè+ ,
)
èè, -
{
èè- .
matrixPillsImages
êê 
[
êê 
$num
êê 
,
êê  
$num
êê! "
]
êê" #
=
êê$ %
pill0
êê& +
;
êê+ ,
matrixPillsImages
ëë 
[
ëë 
$num
ëë  
,
ëë  !
$num
ëë" $
]
ëë$ %
=
ëë& '
pill1
ëë( -
;
ëë- .
matrixPillsImages
íí 
[
íí 
$num
íí 
,
íí  
$num
íí! #
]
íí# $
=
íí% &
pill2
íí' ,
;
íí, -
matrixPillsImages
ìì 
[
ìì 
$num
ìì  
,
ìì  !
$num
ìì" $
]
ìì$ %
=
ìì& '
pill3
ìì( -
;
ìì- .
matrixPillsImages
îî 
[
îî 
$num
îî  
,
îî  !
$num
îî" $
]
îî$ %
=
îî& '
pill4
îî( -
;
îî- .
matrixPillsImages
ïï 
[
ïï 
$num
ïï  
,
ïï  !
$num
ïï" $
]
ïï$ %
=
ïï& '
pill5
ïï( -
;
ïï- .
matrixPillsImages
ññ 
[
ññ 
$num
ññ  
,
ññ  !
$num
ññ" #
]
ññ# $
=
ññ% &
pill6
ññ' ,
;
ññ, -
matrixPillsImages
óó 
[
óó 
$num
óó  
,
óó  !
$num
óó" #
]
óó# $
=
óó% &
pill7
óó' ,
;
óó, -
matrixPillsImages
òò 
[
òò 
$num
òò  
,
òò  !
$num
òò" $
]
òò$ %
=
òò& '
pill8
òò( -
;
òò- .
matrixPillsImages
ôô 
[
ôô 
$num
ôô 
,
ôô  
$num
ôô! #
]
ôô# $
=
ôô% &
pill9
ôô' ,
;
ôô, -
matrixPillsImages
öö 
[
öö 
$num
öö  
,
öö  !
$num
öö" #
]
öö# $
=
öö% &
pill10
öö' -
;
öö- .
matrixPillsImages
õõ 
[
õõ 
$num
õõ  
,
õõ  !
$num
õõ" #
]
õõ# $
=
õõ% &
pill11
õõ' -
;
õõ- .
}
úú 	
public
ûû 
void
ûû 
	DrawPills
ûû 
(
ûû 
)
ûû 
{
ûû  !
BitmapImage
üü 
	imagePath
üü !
=
üü" #
new
üü$ '
BitmapImage
üü( 3
(
üü3 4
)
üü4 5
;
üü5 6
	imagePath
†† 
.
†† 
	BeginInit
†† 
(
††  
)
††  !
;
††! "
	imagePath
°° 
.
°° 
	UriSource
°° 
=
°°  !
new
°°" %
Uri
°°& )
(
°°) *
parentDirectory
°°* 9
+
°°: ;
$str
°°< U
)
°°U V
;
°°V W
	imagePath
¢¢ 
.
¢¢ 
EndInit
¢¢ 
(
¢¢ 
)
¢¢ 
;
¢¢  
pill0
§§ 
.
§§ 
Source
§§ 
=
§§ 
	imagePath
§§ $
;
§§$ %
pill1
•• 
.
•• 
Source
•• 
=
•• 
	imagePath
•• $
;
••$ %
pill2
¶¶ 
.
¶¶ 
Source
¶¶ 
=
¶¶ 
	imagePath
¶¶ $
;
¶¶$ %
pill3
ßß 
.
ßß 
Source
ßß 
=
ßß 
	imagePath
ßß $
;
ßß$ %
pill4
®® 
.
®® 
Source
®® 
=
®® 
	imagePath
®® $
;
®®$ %
pill5
©© 
.
©© 
Source
©© 
=
©© 
	imagePath
©© $
;
©©$ %
pill6
™™ 
.
™™ 
Source
™™ 
=
™™ 
	imagePath
™™ $
;
™™$ %
pill7
´´ 
.
´´ 
Source
´´ 
=
´´ 
	imagePath
´´ $
;
´´$ %
pill8
¨¨ 
.
¨¨ 
Source
¨¨ 
=
¨¨ 
	imagePath
¨¨ $
;
¨¨$ %
pill9
≠≠ 
.
≠≠ 
Source
≠≠ 
=
≠≠ 
	imagePath
≠≠ $
;
≠≠$ %
pill10
ÆÆ 
.
ÆÆ 
Source
ÆÆ 
=
ÆÆ 
	imagePath
ÆÆ %
;
ÆÆ% &
pill11
ØØ 
.
ØØ 
Source
ØØ 
=
ØØ 
	imagePath
ØØ %
;
ØØ% &
	panel_5_2
±± 
.
±± 
Children
±± 
.
±± 
Add
±± "
(
±±" #
pill0
±±# (
)
±±( )
;
±±) *
panel_11_18
≤≤ 
.
≤≤ 
Children
≤≤  
.
≤≤  !
Add
≤≤! $
(
≤≤$ %
pill1
≤≤% *
)
≤≤* +
;
≤≤+ ,

panel_11_5
≥≥ 
.
≥≥ 
Children
≥≥ 
.
≥≥  
Add
≥≥  #
(
≥≥# $
pill2
≥≥$ )
)
≥≥) *
;
≥≥* +
panel_17_12
¥¥ 
.
¥¥ 
Children
¥¥  
.
¥¥  !
Add
¥¥! $
(
¥¥$ %
pill3
¥¥% *
)
¥¥* +
;
¥¥+ ,
panel_13_12
µµ 
.
µµ 
Children
µµ  
.
µµ  !
Add
µµ! $
(
µµ$ %
pill4
µµ% *
)
µµ* +
;
µµ+ ,
panel_21_12
∂∂ 
.
∂∂ 
Children
∂∂  
.
∂∂  !
Add
∂∂! $
(
∂∂$ %
pill5
∂∂% *
)
∂∂* +
;
∂∂+ ,

panel_7_18
∑∑ 
.
∑∑ 
Children
∑∑  
.
∑∑  !
Add
∑∑! $
(
∑∑$ %
pill6
∑∑% *
)
∑∑* +
;
∑∑+ ,

panel_9_11
∏∏ 
.
∏∏ 
Children
∏∏ 
.
∏∏  
Add
∏∏  #
(
∏∏# $
pill7
∏∏$ )
)
∏∏) *
;
∏∏* +
panel_15_22
ππ 
.
ππ 
Children
ππ  
.
ππ  !
Add
ππ! $
(
ππ$ %
pill8
ππ% *
)
ππ* +
;
ππ+ ,

panel_16_1
∫∫ 
.
∫∫ 
Children
∫∫ 
.
∫∫  
Add
∫∫  #
(
∫∫# $
pill9
∫∫$ )
)
∫∫) *
;
∫∫* +

panel_4_10
ªª 
.
ªª 
Children
ªª 
.
ªª  
Add
ªª  #
(
ªª# $
pill10
ªª$ *
)
ªª* +
;
ªª+ ,

panel_2_13
ºº 
.
ºº 
Children
ºº 
.
ºº  
Add
ºº  #
(
ºº# $
pill11
ºº$ *
)
ºº* +
;
ºº+ ,
}
ΩΩ 	
public
¿¿ 
bool
¿¿ 
canMove
¿¿ 
(
¿¿ 
int
¿¿ 
onX
¿¿  #
,
¿¿# $
int
¿¿% (
onY
¿¿) ,
)
¿¿, -
{
¿¿. /
bool
¡¡ 
can
¡¡ 
=
¡¡ 
true
¡¡ 
;
¡¡ 
if
¬¬ 
(
¬¬ 
gameMap
¬¬ 
[
¬¬ 
onX
¬¬ 
,
¬¬ 
onY
¬¬  
]
¬¬  !
==
¬¬" $
$num
¬¬% &
)
¬¬& '
{
¬¬( )
can
√√ 
=
√√ 
false
√√ 
;
√√ 
}
ƒƒ 
return
≈≈ 
can
≈≈ 
;
≈≈ 
}
∆∆ 	
public
»» 
void
»» 

StopLisman
»» 
(
»» 
)
»»  
{
»»! "
runLeft
…… 
.
…… 
Stop
…… 
(
…… 
)
…… 
;
…… 
runUp
   
.
   
Stop
   
(
   
)
   
;
   
runRight
ÀÀ 
.
ÀÀ 
Stop
ÀÀ 
(
ÀÀ 
)
ÀÀ 
;
ÀÀ 
runDown
ÃÃ 
.
ÃÃ 
Stop
ÃÃ 
(
ÃÃ 
)
ÃÃ 
;
ÃÃ 
}
ÕÕ 	
private
œœ 
void
œœ 
Button_Click
œœ !
(
œœ! "
object
œœ" (
sender
œœ) /
,
œœ/ 0
RoutedEventArgs
œœ1 @
e
œœA B
)
œœB C
{
œœD E

StopLisman
–– 
(
–– 
)
–– 
;
–– 
runRight
—— 
.
—— 
Start
—— 
(
—— 
)
—— 
;
—— 
}
““ 	
private
‘‘ 
void
‘‘ 
RunLeft
‘‘ 
(
‘‘ 
object
‘‘ #
sender
‘‘$ *
,
‘‘* +
	EventArgs
‘‘, 5
e
‘‘6 7
)
‘‘7 8
{
‘‘9 :
int
’’ 
initialPositionX
’’  
=
’’! "
X
’’# $
;
’’$ %
int
÷÷ 
initialpositionY
÷÷  
=
÷÷! "
Y
÷÷# $
;
÷÷$ %
if
◊◊ 
(
◊◊ 
X
◊◊ 
==
◊◊ 
$num
◊◊ 
&&
◊◊ 
Y
◊◊ 
==
◊◊ 
$num
◊◊ !
)
◊◊! "
{
◊◊# $
X
ÿÿ 
=
ÿÿ 
$num
ÿÿ 
;
ÿÿ 
Y
ŸŸ 
=
ŸŸ 
$num
ŸŸ 
;
ŸŸ 
MoveLismanInMap
⁄⁄ 
(
⁄⁄  
initialPositionX
⁄⁄  0
,
⁄⁄0 1
initialpositionY
⁄⁄2 B
,
⁄⁄B C
X
⁄⁄D E
,
⁄⁄E F
Y
⁄⁄G H
,
⁄⁄H I
$str
⁄⁄I O
)
⁄⁄O P
;
⁄⁄P Q
return
€€ 
;
€€ 
}
‹‹ 
if
›› 
(
›› 
canMove
›› 
(
›› 
X
›› 
-
›› 
$num
›› 
,
›› 
Y
››  
)
››  !
)
››! "
{
››# $
X
ﬂﬂ 
-=
ﬂﬂ 
$num
ﬂﬂ 
;
ﬂﬂ 
MoveLismanInMap
‡‡ 
(
‡‡  
initialPositionX
‡‡  0
,
‡‡0 1
initialpositionY
‡‡2 B
,
‡‡B C
X
‡‡D E
,
‡‡E F
Y
‡‡G H
,
‡‡H I
$str
‡‡I O
)
‡‡O P
;
‡‡P Q
}
‚‚ 
else
‚‚ 
{
‚‚ 

StopLisman
„„ 
(
„„ 
)
„„ 
;
„„ 
}
‰‰ 
}
ÂÂ 	
private
ÁÁ 
void
ÁÁ 
RunUp
ÁÁ 
(
ÁÁ 
object
ÁÁ !
sender
ÁÁ" (
,
ÁÁ( )
	EventArgs
ÁÁ* 3
e
ÁÁ4 5
)
ÁÁ5 6
{
ÁÁ7 8
int
ËË 
initialPositionX
ËË  
=
ËË! "
X
ËË# $
;
ËË$ %
int
ÈÈ 
initialpositionY
ÈÈ  
=
ÈÈ! "
Y
ÈÈ# $
;
ÈÈ$ %
if
ÎÎ 
(
ÎÎ 
canMove
ÎÎ 
(
ÎÎ 
X
ÎÎ 
,
ÎÎ 
Y
ÎÎ 
-
ÎÎ 
$num
ÎÎ  
)
ÎÎ  !
)
ÎÎ! "
{
ÎÎ# $
Y
ÏÏ 
-=
ÏÏ 
$num
ÏÏ 
;
ÏÏ 
MoveLismanInMap
ÌÌ 
(
ÌÌ  
initialPositionX
ÌÌ  0
,
ÌÌ0 1
initialpositionY
ÌÌ2 B
,
ÌÌB C
X
ÌÌD E
,
ÌÌE F
Y
ÌÌG H
,
ÌÌH I
$str
ÌÌI M
)
ÌÌM N
;
ÌÌN O
}
ÓÓ 
else
ÓÓ 
{
ÓÓ 

StopLisman
ÔÔ 
(
ÔÔ 
)
ÔÔ 
;
ÔÔ 
}
 
}
ÒÒ 	
private
ÚÚ 
void
ÚÚ 
RunRight
ÚÚ 
(
ÚÚ 
object
ÚÚ $
sender
ÚÚ% +
,
ÚÚ+ ,
	EventArgs
ÚÚ- 6
e
ÚÚ7 8
)
ÚÚ8 9
{
ÚÚ: ;
int
ÛÛ 
initialPositionX
ÛÛ  
=
ÛÛ! "
X
ÛÛ# $
;
ÛÛ$ %
int
ÙÙ 
initialpositionY
ÙÙ  
=
ÙÙ! "
Y
ÙÙ# $
;
ÙÙ$ %
if
ıı 
(
ıı 
X
ıı 
==
ıı 
$num
ıı 
&&
ıı 
Y
ıı 
==
ıı 
$num
ıı  "
)
ıı" #
{
ıı$ %
X
ˆˆ 
=
ˆˆ 
$num
ˆˆ 
;
ˆˆ 
Y
˜˜ 
=
˜˜ 
$num
˜˜ 
;
˜˜ 
MoveLismanInMap
¯¯ 
(
¯¯  
initialPositionX
¯¯  0
,
¯¯0 1
initialpositionY
¯¯2 B
,
¯¯B C
X
¯¯D E
,
¯¯E F
Y
¯¯G H
,
¯¯H I
$str
¯¯I P
)
¯¯P Q
;
¯¯Q R
return
˘˘ 
;
˘˘ 
}
˙˙ 
if
˚˚ 
(
˚˚ 
canMove
˚˚ 
(
˚˚ 
X
˚˚ 
+
˚˚ 
$num
˚˚ 
,
˚˚ 
Y
˚˚  
)
˚˚  !
)
˚˚! "
{
˚˚# $
X
¸¸ 
+=
¸¸ 
$num
¸¸ 
;
¸¸ 
MoveLismanInMap
˝˝ 
(
˝˝  
initialPositionX
˝˝  0
,
˝˝0 1
initialpositionY
˝˝2 B
,
˝˝B C
X
˝˝D E
,
˝˝E F
Y
˝˝G H
,
˝˝H I
$str
˝˝I P
)
˝˝P Q
;
˝˝Q R
}
˛˛ 
else
˛˛ 
{
˛˛ 

StopLisman
ˇˇ 
(
ˇˇ 
)
ˇˇ 
;
ˇˇ 
}
ÄÄ 
}
ÅÅ 	
private
ÇÇ 
void
ÇÇ 
RunDown
ÇÇ 
(
ÇÇ 
object
ÇÇ #
sender
ÇÇ$ *
,
ÇÇ* +
	EventArgs
ÇÇ, 5
e
ÇÇ6 7
)
ÇÇ7 8
{
ÇÇ9 :
int
ÉÉ 
initialPositionX
ÉÉ  
=
ÉÉ! "
X
ÉÉ# $
;
ÉÉ$ %
int
ÑÑ 
initialpositionY
ÑÑ  
=
ÑÑ! "
Y
ÑÑ# $
;
ÑÑ$ %
if
ÖÖ 
(
ÖÖ 
canMove
ÖÖ 
(
ÖÖ 
X
ÖÖ 
,
ÖÖ 
Y
ÖÖ 
+
ÖÖ 
$num
ÖÖ  
)
ÖÖ  !
)
ÖÖ! "
{
ÖÖ# $
Y
ÜÜ 
+=
ÜÜ 
$num
ÜÜ 
;
ÜÜ 
MoveLismanInMap
áá 
(
áá  
initialPositionX
áá  0
,
áá0 1
initialpositionY
áá1 A
,
ááA B
X
ááB C
,
ááC D
Y
ááD E
,
ááE F
$str
ááF L
)
ááL M
;
ááM N
}
àà 
else
àà 
{
àà 

StopLisman
ââ 
(
ââ 
)
ââ 
;
ââ 
}
ää 
}
ãã 	
public
åå 
void
åå 
MoveLismanInMap
åå #
(
åå# $
int
åå$ '
initialPositionX
åå( 8
,
åå8 9
int
åå: =
initialPositionY
åå> N
,
ååN O
int
ååP S
finalPositionX
ååT b
,
ååb c
int
ååd g
finalPositionY
ååh v
,
ååv w
String
ååw }
goToåå~ Ç
)ååÇ É
{
çç 	
client
éé 
.
éé 

MoveLisman
éé 
(
éé 
this
éé "
.
éé" #
idgame
éé# )
,
éé) *
SingletonAccount
éé+ ;
.
éé; <!
getSingletonAccount
éé< O
(
ééO P
)
ééP Q
.
ééQ R
User
ééR V
,
ééV W
initialPositionX
ééX h
,
ééh i
initialPositionY
ééj z
,
ééz {
finalPositionXéé| ä
,ééä ã
finalPositionYééå ö
,ééö õ
goToééõ ü
)ééü †
;éé† °
}
èè 	
private
ëë 
void
ëë 
Matriz_KeyDown
ëë #
(
ëë# $
object
ëë$ *
sender
ëë+ 1
,
ëë1 2
KeyEventArgs
ëë3 ?
e
ëë@ A
)
ëëA B
{
ëëC D
if
íí 
(
íí 
e
íí 
.
íí 
Key
íí 
==
íí 
Key
íí 
.
íí 
Left
íí !
)
íí! "
{
íí# $
runUp
ìì 
.
ìì 
Stop
ìì 
(
ìì 
)
ìì 
;
ìì 
runRight
îî 
.
îî 
Stop
îî 
(
îî 
)
îî 
;
îî  
runDown
ïï 
.
ïï 
Stop
ïï 
(
ïï 
)
ïï 
;
ïï 
runLeft
ññ 
.
ññ 
Start
ññ 
(
ññ 
)
ññ 
;
ññ  
}
óó 
if
òò 
(
òò 
e
òò 
.
òò 
Key
òò 
==
òò 
Key
òò 
.
òò 
Up
òò 
)
òò  
{
òò! "
runLeft
ôô 
.
ôô 
Stop
ôô 
(
ôô 
)
ôô 
;
ôô 
runRight
öö 
.
öö 
Stop
öö 
(
öö 
)
öö 
;
öö  
runDown
õõ 
.
õõ 
Stop
õõ 
(
õõ 
)
õõ 
;
õõ 
runUp
úú 
.
úú 
Start
úú 
(
úú 
)
úú 
;
úú 
}
ùù 
if
ûû 
(
ûû 
e
ûû 
.
ûû 
Key
ûû 
==
ûû 
Key
ûû 
.
ûû 
Right
ûû "
)
ûû" #
{
ûû$ %
runLeft
üü 
.
üü 
Stop
üü 
(
üü 
)
üü 
;
üü 
runUp
†† 
.
†† 
Stop
†† 
(
†† 
)
†† 
;
†† 
runDown
°° 
.
°° 
Stop
°° 
(
°° 
)
°° 
;
°° 
runRight
¢¢ 
.
¢¢ 
Start
¢¢ 
(
¢¢ 
)
¢¢  
;
¢¢  !
}
££ 
if
§§ 
(
§§ 
e
§§ 
.
§§ 
Key
§§ 
==
§§ 
Key
§§ 
.
§§ 
Down
§§ !
)
§§! "
{
§§# $
runLeft
•• 
.
•• 
Stop
•• 
(
•• 
)
•• 
;
•• 
runUp
¶¶ 
.
¶¶ 
Stop
¶¶ 
(
¶¶ 
)
¶¶ 
;
¶¶ 
runRight
ßß 
.
ßß 
Stop
ßß 
(
ßß 
)
ßß 
;
ßß  
runDown
®® 
.
®® 
Start
®® 
(
®® 
)
®® 
;
®®  
}
©© 
}
™™ 	
public
¨¨ 
void
¨¨ 
NotifyColorPlayer
¨¨ %
(
¨¨% &
int
¨¨& )
colorPlayer
¨¨* 5
,
¨¨5 6
String
¨¨7 =
user
¨¨> B
)
¨¨B C
{
≠≠ 	
if
ÆÆ 
(
ÆÆ 
SingletonAccount
ÆÆ 
.
ÆÆ  !
getSingletonAccount
ÆÆ  3
(
ÆÆ3 4
)
ÆÆ4 5
.
ÆÆ5 6
User
ÆÆ6 :
==
ÆÆ; =
user
ÆÆ> B
)
ÆÆB C
{
ØØ 
playerColor
∞∞ 
=
∞∞ 
colorPlayer
∞∞ )
;
∞∞) *
}
±± 
switch
≥≥ 
(
≥≥ 
colorPlayer
≥≥ 
)
≥≥  
{
¥¥ 
case
µµ 
LISMANYELLOW
µµ !
:
µµ! "
lismanPlayerImage
∂∂ %
=
∂∂& '
LismanYellowImage
∂∂( 9
;
∂∂9 :
X
∑∑ 
=
∑∑ 
$num
∑∑ 
;
∑∑ 
Y
∏∏ 
=
∏∏ 
$num
∏∏ 
;
∏∏ 
UserLismanYellow
ππ $
.
ππ$ %
Text
ππ% )
=
ππ* +
user
ππ, 0
;
ππ0 1
break
∫∫ 
;
∫∫ 
case
ªª 
	LISMANRED
ªª 
:
ªª 
lismanPlayerImage
ºº %
=
ºº& '
LismanRedImage
ºº( 6
;
ºº6 7
X
ΩΩ 
=
ΩΩ 
$num
ΩΩ 
;
ΩΩ 
Y
ææ 
=
ææ 
$num
ææ 
;
ææ 
UserLismanRed
øø !
.
øø! "
Text
øø" &
=
øø' (
user
øø) -
;
øø- .
break
¿¿ 
;
¿¿ 
case
¡¡ 

LISMANBLUE
¡¡ 
:
¡¡  
lismanPlayerImage
¬¬ %
=
¬¬& '
LismanBlueImage
¬¬( 7
;
¬¬7 8
X
√√ 
=
√√ 
$num
√√ 
;
√√ 
Y
ƒƒ 
=
ƒƒ 
$num
ƒƒ 
;
ƒƒ 
UserLismanBlue
≈≈ "
.
≈≈" #
Text
≈≈# '
=
≈≈( )
user
≈≈* .
;
≈≈. /
break
∆∆ 
;
∆∆ 
case
«« 
LISMANGREEN
««  
:
««  !
lismanPlayerImage
»» %
=
»»& '
LismanGreenImage
»»( 8
;
»»8 9
X
…… 
=
…… 
$num
…… 
;
…… 
Y
   
=
   
$num
   
;
   
UserLismanGreen
ÀÀ #
.
ÀÀ# $
Text
ÀÀ$ (
=
ÀÀ) *
user
ÀÀ+ /
;
ÀÀ/ 0
break
ÃÃ 
;
ÃÃ 
}
ÕÕ 
}
ŒŒ 	
public
–– 
void
–– "
MoveLismanImageRight
–– (
(
––( )
int
––) ,
playerColor
––- 8
)
––8 9
{
—— 	
BitmapImage
““ 
	imagePath
““ !
=
““" #
new
““$ '
BitmapImage
““( 3
(
““3 4
)
““4 5
;
““5 6
switch
”” 
(
”” 
playerColor
”” 
)
””  
{
‘‘ 
case
’’ 
LISMANYELLOW
’’ !
:
’’! "
	imagePath
÷÷ 
.
÷÷ 
	BeginInit
÷÷ '
(
÷÷' (
)
÷÷( )
;
÷÷) *
	imagePath
◊◊ 
.
◊◊ 
	UriSource
◊◊ '
=
◊◊( )
new
◊◊* -
Uri
◊◊. 1
(
◊◊1 2
parentDirectory
◊◊2 A
+
◊◊B C
$str
◊◊D e
)
◊◊e f
;
◊◊f g
	imagePath
ÿÿ 
.
ÿÿ 
EndInit
ÿÿ %
(
ÿÿ% &
)
ÿÿ& '
;
ÿÿ' (
ImageBehavior
ŸŸ !
.
ŸŸ! "
SetAnimatedSource
ŸŸ" 3
(
ŸŸ3 4
LismanYellowImage
ŸŸ4 E
,
ŸŸE F
	imagePath
ŸŸG P
)
ŸŸP Q
;
ŸŸQ R
break
⁄⁄ 
;
⁄⁄ 
case
€€ 
	LISMANRED
€€ 
:
€€ 
	imagePath
‹‹ 
.
‹‹ 
	BeginInit
‹‹ '
(
‹‹' (
)
‹‹( )
;
‹‹) *
	imagePath
›› 
.
›› 
	UriSource
›› '
=
››( )
new
››* -
Uri
››. 1
(
››1 2
parentDirectory
››2 A
+
››B C
$str
››D b
)
››b c
;
››c d
	imagePath
ﬁﬁ 
.
ﬁﬁ 
EndInit
ﬁﬁ %
(
ﬁﬁ% &
)
ﬁﬁ& '
;
ﬁﬁ' (
ImageBehavior
ﬂﬂ !
.
ﬂﬂ! "
SetAnimatedSource
ﬂﬂ" 3
(
ﬂﬂ3 4
LismanRedImage
ﬂﬂ4 B
,
ﬂﬂB C
	imagePath
ﬂﬂD M
)
ﬂﬂM N
;
ﬂﬂN O
break
·· 
;
·· 
case
‚‚ 

LISMANBLUE
‚‚ 
:
‚‚  
	imagePath
„„ 
.
„„ 
	BeginInit
„„ '
(
„„' (
)
„„( )
;
„„) *
	imagePath
‰‰ 
.
‰‰ 
	UriSource
‰‰ '
=
‰‰( )
new
‰‰* -
Uri
‰‰. 1
(
‰‰1 2
parentDirectory
‰‰2 A
+
‰‰B C
$str
‰‰D c
)
‰‰c d
;
‰‰d e
	imagePath
ÂÂ 
.
ÂÂ 
EndInit
ÂÂ %
(
ÂÂ% &
)
ÂÂ& '
;
ÂÂ' (
ImageBehavior
ÊÊ !
.
ÊÊ! "
SetAnimatedSource
ÊÊ" 3
(
ÊÊ3 4
LismanBlueImage
ÊÊ4 C
,
ÊÊC D
	imagePath
ÊÊE N
)
ÊÊN O
;
ÊÊO P
break
ÁÁ 
;
ÁÁ 
case
ËË 
LISMANGREEN
ËË  
:
ËË  !
	imagePath
ÈÈ 
.
ÈÈ 
	BeginInit
ÈÈ '
(
ÈÈ' (
)
ÈÈ( )
;
ÈÈ) *
	imagePath
ÍÍ 
.
ÍÍ 
	UriSource
ÍÍ '
=
ÍÍ( )
new
ÍÍ* -
Uri
ÍÍ. 1
(
ÍÍ1 2
parentDirectory
ÍÍ2 A
+
ÍÍB C
$str
ÍÍD d
)
ÍÍd e
;
ÍÍe f
	imagePath
ÎÎ 
.
ÎÎ 
EndInit
ÎÎ %
(
ÎÎ% &
)
ÎÎ& '
;
ÎÎ' (
ImageBehavior
ÏÏ !
.
ÏÏ! "
SetAnimatedSource
ÏÏ" 3
(
ÏÏ3 4
LismanGreenImage
ÏÏ4 D
,
ÏÏD E
	imagePath
ÏÏF O
)
ÏÏO P
;
ÏÏP Q
break
ÌÌ 
;
ÌÌ 
}
ÓÓ 
}
 	
public
ÚÚ 
void
ÚÚ !
MoveLismanImageLeft
ÚÚ '
(
ÚÚ' (
int
ÚÚ( +
playerColor
ÚÚ, 7
)
ÚÚ7 8
{
ÛÛ 	
BitmapImage
ÙÙ 
	imagePath
ÙÙ !
=
ÙÙ" #
new
ÙÙ$ '
BitmapImage
ÙÙ( 3
(
ÙÙ3 4
)
ÙÙ4 5
;
ÙÙ5 6
switch
ıı 
(
ıı 
playerColor
ıı 
)
ıı  
{
ˆˆ 
case
˜˜ 
LISMANYELLOW
˜˜ !
:
˜˜! "
	imagePath
¯¯ 
.
¯¯ 
	BeginInit
¯¯ '
(
¯¯' (
)
¯¯( )
;
¯¯) *
	imagePath
˘˘ 
.
˘˘ 
	UriSource
˘˘ '
=
˘˘( )
new
˘˘* -
Uri
˘˘. 1
(
˘˘1 2
parentDirectory
˘˘2 A
+
˘˘B C
$str
˘˘D i
)
˘˘i j
;
˘˘j k
	imagePath
˙˙ 
.
˙˙ 
EndInit
˙˙ %
(
˙˙% &
)
˙˙& '
;
˙˙' (
ImageBehavior
˚˚ !
.
˚˚! "
SetAnimatedSource
˚˚" 3
(
˚˚3 4
LismanYellowImage
˚˚4 E
,
˚˚E F
	imagePath
˚˚G P
)
˚˚P Q
;
˚˚Q R
break
¸¸ 
;
¸¸ 
case
˝˝ 
	LISMANRED
˝˝ 
:
˝˝ 
	imagePath
˛˛ 
.
˛˛ 
	BeginInit
˛˛ '
(
˛˛' (
)
˛˛( )
;
˛˛) *
	imagePath
ˇˇ 
.
ˇˇ 
	UriSource
ˇˇ '
=
ˇˇ( )
new
ˇˇ* -
Uri
ˇˇ. 1
(
ˇˇ1 2
parentDirectory
ˇˇ2 A
+
ˇˇB C
$str
ˇˇD f
)
ˇˇf g
;
ˇˇg h
	imagePath
ÄÄ 
.
ÄÄ 
EndInit
ÄÄ %
(
ÄÄ% &
)
ÄÄ& '
;
ÄÄ' (
ImageBehavior
ÅÅ !
.
ÅÅ! "
SetAnimatedSource
ÅÅ" 3
(
ÅÅ3 4
LismanRedImage
ÅÅ4 B
,
ÅÅB C
	imagePath
ÅÅD M
)
ÅÅM N
;
ÅÅN O
break
ÉÉ 
;
ÉÉ 
case
ÑÑ 

LISMANBLUE
ÑÑ 
:
ÑÑ  
	imagePath
ÖÖ 
.
ÖÖ 
	BeginInit
ÖÖ '
(
ÖÖ' (
)
ÖÖ( )
;
ÖÖ) *
	imagePath
ÜÜ 
.
ÜÜ 
	UriSource
ÜÜ '
=
ÜÜ( )
new
ÜÜ* -
Uri
ÜÜ. 1
(
ÜÜ1 2
parentDirectory
ÜÜ2 A
+
ÜÜB C
$str
ÜÜD g
)
ÜÜg h
;
ÜÜh i
	imagePath
áá 
.
áá 
EndInit
áá %
(
áá% &
)
áá& '
;
áá' (
ImageBehavior
àà !
.
àà! "
SetAnimatedSource
àà" 3
(
àà3 4
LismanBlueImage
àà4 C
,
ààC D
	imagePath
ààE N
)
ààN O
;
ààO P
break
ââ 
;
ââ 
case
ää 
LISMANGREEN
ää  
:
ää  !
	imagePath
ãã 
.
ãã 
	BeginInit
ãã '
(
ãã' (
)
ãã( )
;
ãã) *
	imagePath
åå 
.
åå 
	UriSource
åå '
=
åå( )
new
åå* -
Uri
åå. 1
(
åå1 2
parentDirectory
åå2 A
+
ååB C
$str
ååD h
)
ååh i
;
ååi j
	imagePath
çç 
.
çç 
EndInit
çç %
(
çç% &
)
çç& '
;
çç' (
ImageBehavior
éé !
.
éé! "
SetAnimatedSource
éé" 3
(
éé3 4
LismanGreenImage
éé4 D
,
ééD E
	imagePath
ééF O
)
ééO P
;
ééP Q
break
èè 
;
èè 
}
êê 
}
íí 	
public
ìì 
void
ìì 
MoveLismanImageUp
ìì %
(
ìì% &
int
ìì& )
playerColor
ìì* 5
)
ìì5 6
{
îî 	
BitmapImage
ïï 
	imagePath
ïï !
=
ïï" #
new
ïï$ '
BitmapImage
ïï( 3
(
ïï3 4
)
ïï4 5
;
ïï5 6
switch
ññ 
(
ññ 
playerColor
ññ 
)
ññ  
{
óó 
case
òò 
LISMANYELLOW
òò !
:
òò! "
	imagePath
ôô 
.
ôô 
	BeginInit
ôô '
(
ôô' (
)
ôô( )
;
ôô) *
	imagePath
öö 
.
öö 
	UriSource
öö '
=
öö( )
new
öö* -
Uri
öö. 1
(
öö1 2
parentDirectory
öö2 A
+
ööB C
$str
ööD g
)
öög h
;
ööh i
	imagePath
õõ 
.
õõ 
EndInit
õõ %
(
õõ% &
)
õõ& '
;
õõ' (
ImageBehavior
úú !
.
úú! "
SetAnimatedSource
úú" 3
(
úú3 4
LismanYellowImage
úú4 E
,
úúE F
	imagePath
úúG P
)
úúP Q
;
úúQ R
break
ùù 
;
ùù 
case
ûû 
	LISMANRED
ûû 
:
ûû 
	imagePath
üü 
.
üü 
	BeginInit
üü '
(
üü' (
)
üü( )
;
üü) *
	imagePath
†† 
.
†† 
	UriSource
†† '
=
††( )
new
††* -
Uri
††. 1
(
††1 2
parentDirectory
††2 A
+
††B C
$str
††D d
)
††d e
;
††e f
	imagePath
°° 
.
°° 
EndInit
°° %
(
°°% &
)
°°& '
;
°°' (
ImageBehavior
¢¢ !
.
¢¢! "
SetAnimatedSource
¢¢" 3
(
¢¢3 4
LismanRedImage
¢¢4 B
,
¢¢B C
	imagePath
¢¢D M
)
¢¢M N
;
¢¢N O
break
§§ 
;
§§ 
case
•• 

LISMANBLUE
•• 
:
••  
	imagePath
¶¶ 
.
¶¶ 
	BeginInit
¶¶ '
(
¶¶' (
)
¶¶( )
;
¶¶) *
	imagePath
ßß 
.
ßß 
	UriSource
ßß '
=
ßß( )
new
ßß* -
Uri
ßß. 1
(
ßß1 2
parentDirectory
ßß2 A
+
ßßB C
$str
ßßD e
)
ßße f
;
ßßf g
	imagePath
®® 
.
®® 
EndInit
®® %
(
®®% &
)
®®& '
;
®®' (
ImageBehavior
©© !
.
©©! "
SetAnimatedSource
©©" 3
(
©©3 4
LismanBlueImage
©©4 C
,
©©C D
	imagePath
©©E N
)
©©N O
;
©©O P
break
™™ 
;
™™ 
case
´´ 
LISMANGREEN
´´  
:
´´  !
	imagePath
¨¨ 
.
¨¨ 
	BeginInit
¨¨ '
(
¨¨' (
)
¨¨( )
;
¨¨) *
	imagePath
≠≠ 
.
≠≠ 
	UriSource
≠≠ '
=
≠≠( )
new
≠≠* -
Uri
≠≠. 1
(
≠≠1 2
parentDirectory
≠≠2 A
+
≠≠B C
$str
≠≠D f
)
≠≠f g
;
≠≠g h
	imagePath
ÆÆ 
.
ÆÆ 
EndInit
ÆÆ %
(
ÆÆ% &
)
ÆÆ& '
;
ÆÆ' (
ImageBehavior
ØØ !
.
ØØ! "
SetAnimatedSource
ØØ" 3
(
ØØ3 4
LismanGreenImage
ØØ4 D
,
ØØD E
	imagePath
ØØF O
)
ØØO P
;
ØØP Q
break
∞∞ 
;
∞∞ 
}
±± 
}
≥≥ 	
public
¥¥ 
void
¥¥ !
MoveLismanImageDown
¥¥ '
(
¥¥' (
int
¥¥( +
playerColor
¥¥, 7
)
¥¥7 8
{
µµ 	
BitmapImage
∂∂ 
	imagePath
∂∂ !
=
∂∂" #
new
∂∂$ '
BitmapImage
∂∂( 3
(
∂∂3 4
)
∂∂4 5
;
∂∂5 6
switch
∑∑ 
(
∑∑ 
playerColor
∑∑ 
)
∑∑  
{
∏∏ 
case
ππ 
LISMANYELLOW
ππ !
:
ππ! "
	imagePath
∫∫ 
.
∫∫ 
	BeginInit
∫∫ '
(
∫∫' (
)
∫∫( )
;
∫∫) *
	imagePath
ªª 
.
ªª 
	UriSource
ªª '
=
ªª( )
new
ªª* -
Uri
ªª. 1
(
ªª1 2
parentDirectory
ªª2 A
+
ªªB C
$str
ªªD i
)
ªªi j
;
ªªj k
	imagePath
ºº 
.
ºº 
EndInit
ºº %
(
ºº% &
)
ºº& '
;
ºº' (
ImageBehavior
ΩΩ !
.
ΩΩ! "
SetAnimatedSource
ΩΩ" 3
(
ΩΩ3 4
LismanYellowImage
ΩΩ4 E
,
ΩΩE F
	imagePath
ΩΩG P
)
ΩΩP Q
;
ΩΩQ R
break
ææ 
;
ææ 
case
øø 
	LISMANRED
øø 
:
øø 
	imagePath
¿¿ 
.
¿¿ 
	BeginInit
¿¿ '
(
¿¿' (
)
¿¿( )
;
¿¿) *
	imagePath
¡¡ 
.
¡¡ 
	UriSource
¡¡ '
=
¡¡( )
new
¡¡* -
Uri
¡¡. 1
(
¡¡1 2
parentDirectory
¡¡2 A
+
¡¡B C
$str
¡¡D f
)
¡¡f g
;
¡¡g h
	imagePath
¬¬ 
.
¬¬ 
EndInit
¬¬ %
(
¬¬% &
)
¬¬& '
;
¬¬' (
ImageBehavior
√√ !
.
√√! "
SetAnimatedSource
√√" 3
(
√√3 4
LismanRedImage
√√4 B
,
√√B C
	imagePath
√√D M
)
√√M N
;
√√N O
break
≈≈ 
;
≈≈ 
case
∆∆ 

LISMANBLUE
∆∆ 
:
∆∆  
	imagePath
«« 
.
«« 
	BeginInit
«« '
(
««' (
)
««( )
;
««) *
	imagePath
»» 
.
»» 
	UriSource
»» '
=
»»( )
new
»»* -
Uri
»». 1
(
»»1 2
parentDirectory
»»2 A
+
»»B C
$str
»»D g
)
»»g h
;
»»h i
	imagePath
…… 
.
…… 
EndInit
…… %
(
……% &
)
……& '
;
……' (
ImageBehavior
   !
.
  ! "
SetAnimatedSource
  " 3
(
  3 4
LismanBlueImage
  4 C
,
  C D
	imagePath
  E N
)
  N O
;
  O P
break
ÀÀ 
;
ÀÀ 
case
ÃÃ 
LISMANGREEN
ÃÃ  
:
ÃÃ  !
	imagePath
ÕÕ 
.
ÕÕ 
	BeginInit
ÕÕ '
(
ÕÕ' (
)
ÕÕ( )
;
ÕÕ) *
	imagePath
ŒŒ 
.
ŒŒ 
	UriSource
ŒŒ '
=
ŒŒ( )
new
ŒŒ* -
Uri
ŒŒ. 1
(
ŒŒ1 2
parentDirectory
ŒŒ2 A
+
ŒŒB C
$str
ŒŒD h
)
ŒŒh i
;
ŒŒi j
	imagePath
œœ 
.
œœ 
EndInit
œœ %
(
œœ% &
)
œœ& '
;
œœ' (
ImageBehavior
–– !
.
––! "
SetAnimatedSource
––" 3
(
––3 4
LismanGreenImage
––4 D
,
––D E
	imagePath
––F O
)
––O P
;
––P Q
break
—— 
;
—— 
}
““ 
}
‘‘ 	
public
÷÷ 
void
÷÷ 
NotifyLismanMoved
÷÷ %
(
÷÷% &
int
÷÷& )
colorPlayer
÷÷* 5
,
÷÷5 6
int
÷÷7 :
	positionX
÷÷; D
,
÷÷D E
int
÷÷F I
	positionY
÷÷J S
,
÷÷S T
String
÷÷T Z
goTo
÷÷[ _
)
÷÷_ `
{
◊◊ 	
Image
ÿÿ 
lismanImageMoved
ÿÿ "
=
ÿÿ# $
null
ÿÿ% )
;
ÿÿ) *
switch
⁄⁄ 
(
⁄⁄ 
goTo
⁄⁄ 
)
⁄⁄ 
{
⁄⁄ 
case
€€ 
$str
€€ 
:
€€ 
MoveLismanImageUp
‹‹ %
(
‹‹% &
colorPlayer
‹‹& 1
)
‹‹1 2
;
‹‹2 3
break
›› 
;
›› 
case
ﬁﬁ 
$str
ﬁﬁ 
:
ﬁﬁ !
MoveLismanImageDown
ﬂﬂ '
(
ﬂﬂ' (
colorPlayer
ﬂﬂ( 3
)
ﬂﬂ3 4
;
ﬂﬂ4 5
break
‡‡ 
;
‡‡ 
case
·· 
$str
·· 
:
·· "
MoveLismanImageRight
‚‚ (
(
‚‚( )
colorPlayer
‚‚) 4
)
‚‚4 5
;
‚‚5 6
break
„„ 
;
„„ 
case
‰‰ 
$str
‰‰ 
:
‰‰ !
MoveLismanImageLeft
ÂÂ '
(
ÂÂ' (
colorPlayer
ÂÂ( 3
)
ÂÂ3 4
;
ÂÂ4 5
break
ÊÊ 
;
ÊÊ 
}
ÁÁ 
switch
ÈÈ 
(
ÈÈ 
colorPlayer
ÈÈ 
)
ÈÈ  
{
ÈÈ  !
case
ÍÍ 
LISMANYELLOW
ÍÍ !
:
ÍÍ! "
lismanImageMoved
ÎÎ $
=
ÎÎ% &
LismanYellowImage
ÎÎ' 8
;
ÎÎ8 9
break
ÏÏ 
;
ÏÏ 
case
ÌÌ 
	LISMANRED
ÌÌ 
:
ÌÌ 
lismanImageMoved
ÓÓ $
=
ÓÓ% &
LismanRedImage
ÓÓ' 5
;
ÓÓ5 6
break
ÔÔ 
;
ÔÔ 
case
 

LISMANBLUE
 
:
  
lismanImageMoved
ÒÒ $
=
ÒÒ% &
LismanBlueImage
ÒÒ' 6
;
ÒÒ6 7
break
ÚÚ 
;
ÚÚ 
case
ÛÛ 
LISMANGREEN
ÛÛ  
:
ÛÛ  !
lismanImageMoved
ÙÙ $
=
ÙÙ% &
LismanGreenImage
ÙÙ' 7
;
ÙÙ7 8
break
ıı 
;
ıı 
}
ˆˆ 
Grid
˘˘ 
.
˘˘ 
	SetColumn
˘˘ 
(
˘˘ 
lismanImageMoved
˘˘ +
,
˘˘+ ,
	positionX
˘˘- 6
)
˘˘6 7
;
˘˘7 8
Grid
˙˙ 
.
˙˙ 
SetRow
˙˙ 
(
˙˙ 
lismanImageMoved
˙˙ (
,
˙˙( )
	positionY
˙˙* 3
)
˙˙3 4
;
˙˙4 5
}
˚˚ 	
public
˝˝ 
void
˝˝ %
PrintInformationPlayers
˝˝ +
(
˝˝+ ,

Dictionary
˝˝, 6
<
˝˝6 7
string
˝˝7 =
,
˝˝= >
InformationPlayer
˝˝? P
>
˝˝P Q
listPlayers
˝˝R ]
)
˝˝] ^
{
˛˛ 	
foreach
ˇˇ 
(
ˇˇ 
KeyValuePair
ˇˇ !
<
ˇˇ! "
String
ˇˇ" (
,
ˇˇ( )
InformationPlayer
ˇˇ* ;
>
ˇˇ; <
player
ˇˇ= C
in
ˇˇD F
listPlayers
ˇˇG R
)
ˇˇR S
{
ÄÄ 
int
ÅÅ 
colorPlayer
ÅÅ 
=
ÅÅ  !
player
ÅÅ" (
.
ÅÅ( )
Value
ÅÅ) .
.
ÅÅ. /
colorLisman
ÅÅ/ :
;
ÅÅ: ;
switch
ÇÇ 
(
ÇÇ 
colorPlayer
ÇÇ #
)
ÇÇ# $
{
ÉÉ 
case
ÑÑ 
LISMANYELLOW
ÑÑ %
:
ÑÑ% &
UserLismanYellow
ÖÖ (
.
ÖÖ( )
Text
ÖÖ) -
=
ÖÖ. /
player
ÖÖ/ 5
.
ÖÖ5 6
Key
ÖÖ6 9
;
ÖÖ9 :#
UserLismanYellowLifes
ÜÜ -
.
ÜÜ- .
Text
ÜÜ. 2
=
ÜÜ3 4
player
ÜÜ5 ;
.
ÜÜ; <
Value
ÜÜ< A
.
ÜÜA B
lifesLisman
ÜÜB M
.
ÜÜM N
ToString
ÜÜN V
(
ÜÜV W
)
ÜÜW X
;
ÜÜX Y#
UserLismanYellowScore
áá -
.
áá- .
Text
áá. 2
=
áá3 4
player
áá5 ;
.
áá; <
Value
áá< A
.
ááA B
scoreLisman
ááB M
.
ááM N
ToString
ááN V
(
ááV W
)
ááW X
;
ááX Y
break
àà 
;
àà 
case
ââ 
	LISMANRED
ââ "
:
ââ" #
UserLismanRed
ää %
.
ää% &
Text
ää& *
=
ää+ ,
player
ää- 3
.
ää3 4
Key
ää4 7
;
ää7 8 
UserLismanRedLifes
ãã *
.
ãã* +
Text
ãã+ /
=
ãã0 1
player
ãã2 8
.
ãã8 9
Value
ãã9 >
.
ãã> ?
lifesLisman
ãã? J
.
ããJ K
ToString
ããK S
(
ããS T
)
ããT U
;
ããU V 
UserLismanRedScore
åå *
.
åå* +
Text
åå+ /
=
åå0 1
player
åå2 8
.
åå8 9
Value
åå9 >
.
åå> ?
scoreLisman
åå? J
.
ååJ K
ToString
ååK S
(
ååS T
)
ååT U
;
ååU V
break
çç 
;
çç 
case
éé 

LISMANBLUE
éé #
:
éé# $
UserLismanBlue
èè &
.
èè& '
Text
èè' +
=
èè, -
player
èè. 4
.
èè4 5
Key
èè5 8
;
èè8 9!
UserLismanBlueLifes
êê +
.
êê+ ,
Text
êê, 0
=
êê1 2
player
êê3 9
.
êê9 :
Value
êê: ?
.
êê? @
lifesLisman
êê@ K
.
êêK L
ToString
êêL T
(
êêT U
)
êêU V
;
êêV W!
UserLismanBlueScore
ëë +
.
ëë+ ,
Text
ëë, 0
=
ëë1 2
player
ëë3 9
.
ëë9 :
Value
ëë: ?
.
ëë? @
scoreLisman
ëë@ K
.
ëëK L
ToString
ëëL T
(
ëëT U
)
ëëU V
;
ëëV W
break
íí 
;
íí 
case
ìì 
LISMANGREEN
ìì $
:
ìì$ %
UserLismanGreen
îî '
.
îî' (
Text
îî( ,
=
îî- .
player
îî/ 5
.
îî5 6
Key
îî6 9
;
îî9 :"
UserLismanGreenLifes
ïï ,
.
ïï, -
Text
ïï- 1
=
ïï2 3
player
ïï4 :
.
ïï: ;
Value
ïï; @
.
ïï@ A
lifesLisman
ïïA L
.
ïïL M
ToString
ïïM U
(
ïïU V
)
ïïV W
;
ïïW X"
UserLismanGreenScore
ññ ,
.
ññ, -
Text
ññ- 1
=
ññ2 3
player
ññ4 :
.
ññ: ;
Value
ññ; @
.
ññ@ A
scoreLisman
ññA L
.
ññL M
ToString
ññM U
(
ññU V
)
ññV W
;
ññW X
break
óó 
;
óó 
}
òò 
}
ôô 
}
öö 	
public
úú 
void
úú (
NotifyDisappearedPowerPill
úú .
(
úú. /
int
úú/ 2
	positionX
úú3 <
,
úú< =
int
úú> A
	positionY
úúB K
)
úúK L
{
ùù 	
matrixPillsImages
ûû 
[
ûû 
	positionX
ûû '
,
ûû' (
	positionY
ûû) 2
]
ûû2 3
.
ûû3 4

Visibility
ûû4 >
=
ûû? @

Visibility
ûûA K
.
ûûK L
Hidden
ûûL R
;
ûûR S
}
üü 	
public
°° 
void
°° 
NotifyUpdateScore
°° %
(
°°% &
int
°°& )
colorPlayer
°°* 5
,
°°5 6
int
°°7 :
scorePlayer
°°; F
)
°°F G
{
¢¢ 	
switch
££ 
(
££ 
colorPlayer
££ 
)
££  
{
§§ 
case
•• 
LISMANYELLOW
•• !
:
••! "#
UserLismanYellowScore
¶¶ )
.
¶¶) *
Text
¶¶* .
=
¶¶/ 0
scorePlayer
¶¶1 <
.
¶¶< =
ToString
¶¶= E
(
¶¶E F
)
¶¶F G
;
¶¶G H
break
ßß 
;
ßß 
case
®® 
	LISMANRED
®® 
:
®®  
UserLismanRedScore
©© &
.
©©& '
Text
©©' +
=
©©, -
scorePlayer
©©. 9
.
©©9 :
ToString
©©: B
(
©©B C
)
©©C D
;
©©D E
break
™™ 
;
™™ 
case
´´ 

LISMANBLUE
´´ 
:
´´  !
UserLismanBlueScore
¨¨ '
.
¨¨' (
Text
¨¨( ,
=
¨¨- .
scorePlayer
¨¨/ :
.
¨¨: ;
ToString
¨¨; C
(
¨¨C D
)
¨¨D E
;
¨¨E F
break
≠≠ 
;
≠≠ 
case
ÆÆ 
LISMANGREEN
ÆÆ  
:
ÆÆ  !"
UserLismanGreenScore
ØØ (
.
ØØ( )
Text
ØØ) -
=
ØØ. /
scorePlayer
ØØ0 ;
.
ØØ; <
ToString
ØØ< D
(
ØØD E
)
ØØE F
;
ØØF G
break
∞∞ 
;
∞∞ 
}
±± 
}
≤≤ 	
public
¥¥ 
void
¥¥ 
NotifyUpdateLifes
¥¥ %
(
¥¥% &
int
¥¥& )
colorPlayer
¥¥* 5
,
¥¥5 6
int
¥¥7 :

lifePlayer
¥¥; E
)
¥¥E F
{
µµ 	
switch
∂∂ 
(
∂∂ 
colorPlayer
∂∂ 
)
∂∂  
{
∑∑ 
case
∏∏ 
LISMANYELLOW
∏∏ !
:
∏∏! "#
UserLismanYellowLifes
ππ )
.
ππ) *
Text
ππ* .
=
ππ/ 0

lifePlayer
ππ1 ;
.
ππ; <
ToString
ππ< D
(
ππD E
)
ππE F
;
ππF G
break
∫∫ 
;
∫∫ 
case
ªª 
	LISMANRED
ªª 
:
ªª  
UserLismanRedLifes
ºº &
.
ºº& '
Text
ºº' +
=
ºº, -

lifePlayer
ºº. 8
.
ºº8 9
ToString
ºº9 A
(
ººA B
)
ººB C
;
ººC D
break
ΩΩ 
;
ΩΩ 
case
ææ 

LISMANBLUE
ææ 
:
ææ  !
UserLismanBlueLifes
øø '
.
øø' (
Text
øø( ,
=
øø- .

lifePlayer
øø/ 9
.
øø9 :
ToString
øø: B
(
øøB C
)
øøC D
;
øøD E
break
¿¿ 
;
¿¿ 
case
¡¡ 
LISMANGREEN
¡¡  
:
¡¡  !"
UserLismanGreenLifes
¬¬ (
.
¬¬( )
Text
¬¬) -
=
¬¬. /

lifePlayer
¬¬0 :
.
¬¬: ;
ToString
¬¬; C
(
¬¬C D
)
¬¬D E
;
¬¬E F
break
√√ 
;
√√ 
}
ƒƒ 
}
≈≈ 	
public
«« 
void
««  
NotifyPlayerIsDead
«« &
(
««& '
int
««' *
colorPlayer
««+ 6
)
««6 7
{
»» 	
switch
…… 
(
…… 
colorPlayer
…… 
)
……  
{
   
case
ÀÀ 
LISMANYELLOW
ÀÀ !
:
ÀÀ! "
LismanYellowImage
ÃÃ %
.
ÃÃ% &

Visibility
ÃÃ& 0
=
ÃÃ1 2

Visibility
ÃÃ3 =
.
ÃÃ= >
Hidden
ÃÃ> D
;
ÃÃD E
break
ÕÕ 
;
ÕÕ 
case
ŒŒ 
	LISMANRED
ŒŒ 
:
ŒŒ 
LismanRedImage
œœ "
.
œœ" #

Visibility
œœ# -
=
œœ. /

Visibility
œœ0 :
.
œœ: ;
Hidden
œœ; A
;
œœA B
break
–– 
;
–– 
case
—— 

LISMANBLUE
—— 
:
——  
LismanBlueImage
““ #
.
““# $

Visibility
““$ .
=
““/ 0

Visibility
““1 ;
.
““; <
Hidden
““< B
;
““B C
break
”” 
;
”” 
case
‘‘ 
LISMANGREEN
‘‘  
:
‘‘  !
LismanGreenImage
’’ $
.
’’$ %

Visibility
’’% /
=
’’0 1

Visibility
’’2 <
.
’’< =
Hidden
’’= C
;
’’C D
break
÷÷ 
;
÷÷ 
}
◊◊ 
if
ŸŸ 
(
ŸŸ 
playerColor
ŸŸ 
==
ŸŸ 
colorPlayer
ŸŸ *
)
ŸŸ* +
{
ŸŸ+ ,

MessageBox
⁄⁄ 
.
⁄⁄ 
Show
⁄⁄ 
(
⁄⁄  
$str
⁄⁄  3
)
⁄⁄3 4
;
⁄⁄4 5
MultiplayerHome
€€ 
window
€€  &
=
€€' (
new
€€) ,
MultiplayerHome
€€- <
(
€€< =
)
€€= >
;
€€> ?
window
‹‹ 
.
‹‹ 
Show
‹‹ 
(
‹‹ 
)
‹‹ 
;
‹‹ 
this
›› 
.
›› 
Close
›› 
(
›› 
)
›› 
;
›› 
}
ﬂﬂ 
}
‚‚ 	
public
‰‰ 
void
‰‰ +
ReturnLismanToInitialPosition
‰‰ 1
(
‰‰1 2
int
‰‰2 5
colorPlayer
‰‰6 A
,
‰‰A B
int
‰‰C F
	positionX
‰‰G P
,
‰‰P Q
int
‰‰R U
	positionY
‰‰V _
)
‰‰_ `
{
ÂÂ 	
Image
ÊÊ 
lismanImageMoved
ÊÊ "
=
ÊÊ# $
null
ÊÊ% )
;
ÊÊ) *
switch
ÁÁ 
(
ÁÁ 
colorPlayer
ÁÁ 
)
ÁÁ  
{
ËË 
case
ÈÈ 
LISMANYELLOW
ÈÈ !
:
ÈÈ! "
lismanImageMoved
ÍÍ $
=
ÍÍ% &
LismanYellowImage
ÍÍ' 8
;
ÍÍ8 9
break
ÎÎ 
;
ÎÎ 
case
ÏÏ 
	LISMANRED
ÏÏ 
:
ÏÏ 
lismanImageMoved
ÌÌ $
=
ÌÌ% &
LismanRedImage
ÌÌ' 5
;
ÌÌ5 6
break
ÓÓ 
;
ÓÓ 
case
ÔÔ 

LISMANBLUE
ÔÔ 
:
ÔÔ  
lismanImageMoved
 $
=
% &
LismanBlueImage
' 6
;
6 7
break
ÒÒ 
;
ÒÒ 
case
ÚÚ 
LISMANGREEN
ÚÚ  
:
ÚÚ  !
lismanImageMoved
ÛÛ $
=
ÛÛ% &
LismanGreenImage
ÛÛ' 7
;
ÛÛ7 8
break
ÙÙ 
;
ÙÙ 
}
ıı 
X
ˆˆ 
=
ˆˆ 
	positionX
ˆˆ 
;
ˆˆ 
Y
˜˜ 
=
˜˜ 
	positionY
˜˜ 
;
˜˜ 
Grid
¯¯ 
.
¯¯ 
	SetColumn
¯¯ 
(
¯¯ 
lismanImageMoved
¯¯ +
,
¯¯+ ,
	positionX
¯¯- 6
)
¯¯6 7
;
¯¯7 8
Grid
˘˘ 
.
˘˘ 
SetRow
˘˘ 
(
˘˘ 
lismanImageMoved
˘˘ (
,
˘˘( )
	positionY
˘˘* 3
)
˘˘3 4
;
˘˘4 5
}
˙˙ 	
public
¸¸ 
void
¸¸ 
UpdateLismanSpeed
¸¸ %
(
¸¸% &
int
¸¸& )
speed
¸¸* /
,
¸¸/ 0
bool
¸¸0 4
hasPower
¸¸5 =
)
¸¸= >
{
˝˝ 	
if
˛˛ 
(
˛˛ 
hasPower
˛˛ 
)
˛˛ 
{
ˇˇ 
	timePower
ÄÄ 
.
ÄÄ 
Tick
ÄÄ 
+=
ÄÄ !
new
ÄÄ" %
EventHandler
ÄÄ& 2
(
ÄÄ2 3
RemovePowerSpeed
ÄÄ3 C
)
ÄÄC D
;
ÄÄD E
	timePower
ÅÅ 
.
ÅÅ 
Interval
ÅÅ "
=
ÅÅ# $
new
ÅÅ% (
TimeSpan
ÅÅ) 1
(
ÅÅ1 2
$num
ÅÅ2 3
,
ÅÅ3 4
$num
ÅÅ5 6
,
ÅÅ6 7
$num
ÅÅ8 :
)
ÅÅ: ;
;
ÅÅ; <
	timePower
ÇÇ 
.
ÇÇ 
Start
ÇÇ 
(
ÇÇ  
)
ÇÇ  !
;
ÇÇ! "
}
ÑÑ 
runLeft
ÖÖ 
.
ÖÖ 
Interval
ÖÖ 
=
ÖÖ 
new
ÖÖ "
TimeSpan
ÖÖ# +
(
ÖÖ+ ,
$num
ÖÖ, -
,
ÖÖ- .
$num
ÖÖ/ 0
,
ÖÖ0 1
$num
ÖÖ2 3
,
ÖÖ3 4
$num
ÖÖ5 6
,
ÖÖ6 7
speed
ÖÖ8 =
)
ÖÖ= >
;
ÖÖ> ?
runUp
ÜÜ 
.
ÜÜ 
Interval
ÜÜ 
=
ÜÜ 
new
ÜÜ  
TimeSpan
ÜÜ! )
(
ÜÜ) *
$num
ÜÜ* +
,
ÜÜ+ ,
$num
ÜÜ- .
,
ÜÜ. /
$num
ÜÜ0 1
,
ÜÜ1 2
$num
ÜÜ3 4
,
ÜÜ4 5
speed
ÜÜ6 ;
)
ÜÜ; <
;
ÜÜ< =
runRight
áá 
.
áá 
Interval
áá 
=
áá 
new
áá  #
TimeSpan
áá$ ,
(
áá, -
$num
áá- .
,
áá. /
$num
áá0 1
,
áá1 2
$num
áá3 4
,
áá4 5
$num
áá6 7
,
áá7 8
speed
áá9 >
)
áá> ?
;
áá? @
runDown
àà 
.
àà 
Interval
àà 
=
àà 
new
àà "
TimeSpan
àà# +
(
àà+ ,
$num
àà, -
,
àà- .
$num
àà/ 0
,
àà0 1
$num
àà2 3
,
àà3 4
$num
àà5 6
,
àà6 7
speed
àà8 =
)
àà= >
;
àà> ?
speedLisman
ââ 
=
ââ 
speed
ââ 
;
ââ  
}
ãã 	
public
çç 
void
çç 
RemovePowerSpeed
çç $
(
çç$ %
object
çç% +
sender
çç, 2
,
çç2 3
	EventArgs
çç4 =
e
çç> ?
)
çç? @
{
éé 	
if
èè 
(
èè 
timerValidation
èè 
==
èè !
$num
èè" #
)
èè$ %
{
êê 
client
ëë 
.
ëë 
RemovePower
ëë "
(
ëë" #
SingletonAccount
ëë# 3
.
ëë3 4!
getSingletonAccount
ëë4 G
(
ëëG H
)
ëëH I
.
ëëI J
User
ëëJ N
)
ëëN O
;
ëëO P
	timePower
íí 
.
íí 
Stop
íí 
(
íí 
)
íí  
;
íí  !
timerValidation
ìì 
=
ìì  !
$num
ìì" #
;
ìì# $
}
îî 
else
ïï 
{
ññ 
timerValidation
óó 
=
óó  !
$num
óó" #
;
óó# $
}
òò 
}
úú 	
public
ûû 
void
ûû 
NotifyEndGame
ûû !
(
ûû! "
string
ûû" (
winner
ûû) /
)
ûû/ 0
{
üü 	

MessageBox
†† 
.
†† 
Show
†† 
(
†† 
$str
†† ,
)
††, -
;
††- .
MultiplayerHome
°° 

windowHome
°° &
=
°°' (
new
°°) ,
MultiplayerHome
°°- <
(
°°< =
)
°°= >
;
°°> ?

windowHome
¢¢ 
.
¢¢ 
Show
¢¢ 
(
¢¢ 
)
¢¢ 
;
¢¢ 
this
££ 
.
££ 
Close
££ 
(
££ 
)
££ 
;
££ 
}
§§ 	
}
•• 
}¶¶ í
íC:\Users\Vik-t\Documents\Software Engineering\5to Semestre\Tecnolog√≠as para la Construcci√≥n\Proyecto\LISMAN\Lisman\Lisman\PositionsTable.xaml.cs
	namespace 	
Lisman
 
{ 
public 

partial 
class 
PositionsTable '
:( )
Window* 0
{1 2
public		 
PositionsTable		 
(		 
)		 
{

 	
InitializeComponent 
(  
)  !
;! "
	LoadTable 
( 
) 
; 
} 	
private 
void  
Button_Click_go_back )
() *
object* 0
sender1 7
,7 8
RoutedEventArgs9 H
eI J
)J K
{ 	
MainMenu 
menu 
= 
new 
MainMenu  (
(( )
)) *
;* +
menu 
. 
Show 
( 
) 
; 
this 
. 
Close 
( 
) 
; 
} 	
public 
void 
	LoadTable 
( 
) 
{ 	
using 
( 
var 
client 
= 
new  #
LismanService$ 1
.1 2 
AccountManagerClient2 F
(F G
)G H
)H I
{J K
try 
{ 
var 
listRecords #
=$ %
client& ,
., -

GetRecords- 7
(7 8
)8 9
;9 :
table_positions #
.# $
ItemsSource$ /
=0 1
listRecords2 =
;= >
} 
catch 
( 
	Exception "
ex# %
)% &
{' (
Logger 
. 
log 
. 
Error $
($ %
$str% ;
+; <
ex= ?
)? @
;@ A
} 
} 
}   	
}## 
}$$ Ï
èC:\Users\Vik-t\Documents\Software Engineering\5to Semestre\Tecnolog√≠as para la Construcci√≥n\Proyecto\LISMAN\Lisman\Lisman\SingletonAccount.cs
	namespace 	
Lisman
 
{ 
class 	
SingletonAccount
 
{ 
private 
static 
LismanService $
.$ %
Account% ,
account- 4
=5 6
null7 ;
;; <
private 
SingletonAccount  
(  !
)! "
{# $
}		 	
public 
static 
void 
setSingletonAccount .
(. /
LismanService/ <
.< =
Account= D
accountReceivedE T
)T U
{V W
if 
( 
account 
== 
null 
)  
{! "
account 
= 
accountReceived (
;( )
} 
} 	
public 
static 
LismanService #
.# $
Account$ +
getSingletonAccount, ?
(? @
)@ A
{B C
if 
( 
account 
!= 
null 
)  
{! "
return 
account 
; 
} 
else 
{ 
return 
null 
; 
} 
} 	
} 
} Òï
êC:\Users\Vik-t\Documents\Software Engineering\5to Semestre\Tecnolog√≠as para la Construcci√≥n\Proyecto\LISMAN\Lisman\Lisman\UserRegister.xaml.cs
	namespace		 	
Lisman		
 
{		 
public 

partial 
class 
UserRegister %
:& '
Window( .
{/ 0
public 
UserRegister 
( 
) 
{ 	
InitializeComponent 
(  
)  !
;! "
} 	
private 
void 
Button_Click_Cancel (
(( )
object) /
sender0 6
,6 7
RoutedEventArgs8 G
eH I
)I J
{ 	

MainWindow 
login 
= 
new "

MainWindow# -
(- .
). /
;/ 0
login 
. 
Show 
( 
) 
; 
this 
. 
Close 
( 
) 
; 
} 	
private 
void 
	SendEmail 
( 
String %
destinationEmail& 6
,6 7
String7 =
token> C
)C D
{D E
String 
originEmail 
=  
$str! 6
;6 7
String 
passwordEmail  
=! "
$str# 1
;1 2
String 
subjectEmail 
=  !

Properties" ,
., -
	Resources- 6
.6 7
subject_email7 D
;D E
String 
	bodyEmail 
= 

Properties )
.) *
	Resources* 3
.3 4

body_email4 >
;> ?
String 
url 
= 
$str P
+Q R
tokenS X
;X Y
MailMessage## 
mailMessage## #
=##$ %
new##& )
MailMessage##* 5
(##5 6
originEmail##6 A
,##A B
destinationEmail##B R
,##R S
subjectEmail##S _
,##_ `
	bodyEmail##` i
+##j k
$str##l r
+##s t
url##u x
)##x y
;##y z
mailMessage$$ 
.$$ 

IsBodyHtml$$ "
=$$# $
true$$% )
;$$) *

SmtpClient&& 

smtpClient&& !
=&&" #
new&&$ '

SmtpClient&&( 2
(&&2 3
$str&&3 C
)&&C D
;&&D E

smtpClient'' 
.'' 
	EnableSsl''  
=''! "
true''# '
;''' (

smtpClient(( 
.(( !
UseDefaultCredentials(( ,
=((- .
false((/ 4
;((4 5

smtpClient)) 
.)) 
Port)) 
=)) 
$num)) !
;))! "

smtpClient** 
.** 
Credentials** "
=**# $
new**% (
System**) /
.**/ 0
Net**0 3
.**3 4
NetworkCredential**4 E
(**E F
originEmail**F Q
,**Q R
passwordEmail**R _
)**_ `
;**` a

smtpClient,, 
.,, 
Send,, 
(,, 
mailMessage,, '
),,' (
;,,( )

smtpClient-- 
.-- 
Dispose-- 
(-- 
)--  
;--  !
}11 	
public33 
void33 
SaveData33 
(33 
)33 
{33  
if44 
(44 
validateEmptyFields44 #
(44# $
)44$ %
&&44& (
ValidateData44) 5
(445 6
)446 7
)447 8
{449 :
try55 
{55 
using66 
(66 
var66 
client66 %
=66& '
new66( +
LismanService66, 9
.669 : 
AccountManagerClient66: N
(66N O
)66O P
)66P Q
{66R S
String77 
token77 $
=77% &
EncodePassword77' 5
(775 6
Guid776 :
.77: ;
NewGuid77; B
(77B C
)77C D
.77D E
ToString77E M
(77M N
)77N O
)77O P
;77P Q
var88 
accountSave88 '
=88( )
new88* -
LismanService88. ;
.88; <
Account88< C
{88D E
User99  
=99! "
textField_userName99# 5
.995 6
Text996 :
,99: ;
Password:: $
=::% &
EncodePassword::' 5
(::5 6 
passwordBox_password::6 J
.::J K
Password::K S
)::S T
,::T U
Registration_date;; -
=;;. /
DateTime;;0 8
.;;8 9
Now;;9 <
.;;< =
ToString;;= E
(;;E F
);;F G
,;;G H
Key_confirmation<< ,
=<<- .
token<</ 4
,<<4 5
Player== "
===# $
new==% (
LismanService==) 6
.==6 7
Player==7 =
{==> ?

First_name>>  *
=>>+ ,
textField_name>>- ;
.>>; <
Text>>< @
,>>@ A
	Last_name??  )
=??* +
textField_lastName??, >
.??> ?
Text??? C
,??C D
Email@@  %
=@@& '
textField_email@@( 7
.@@7 8
Text@@8 <
,@@< =
}AA 
}BB 
;BB 
ifCC 
(CC 
clientCC "
.CC" #

AddAccountCC# -
(CC- .
accountSaveCC. 9
)CC9 :
!=CC; =
-CC> ?
$numCC? @
)CC@ A
{CCB C
	SendEmailDD %
(DD% &
accountSaveDD& 1
.DD1 2
PlayerDD2 8
.DD8 9
EmailDD9 >
,DD> ?
tokenDD@ E
)DDE F
;DDF G
varEE )
messageRegistrationSuccessfulEE  =
=EE> ?

PropertiesEE@ J
.EEJ K
	ResourcesEEK T
.EET U+
message_registration_successfulEEU t
;EEt u

MessageBoxFF &
.FF& '
ShowFF' +
(FF+ ,)
messageRegistrationSuccessfulFF, I
)FFI J
;FFJ K

MainWindowGG &
loginGG' ,
=GG- .
newGG/ 2

MainWindowGG3 =
(GG= >
)GG> ?
;GG? @
loginHH !
.HH! "
ShowHH" &
(HH& '
)HH' (
;HH( )
thisII  
.II  !
CloseII! &
(II& '
)II' (
;II( )
}JJ 
elseJJ 
{JJ  
varKK $
messageRegistrationErrorKK  8
=KK9 :

PropertiesKK; E
.KKE F
	ResourcesKKF O
.KKO P&
message_registration_errorKKP j
;KKj k

MessageBoxLL &
.LL& '
ShowLL' +
(LL+ ,$
messageRegistrationErrorLL, D
)LLD E
;LLE F
}MM 
}NN 
}OO 
catchOO 
(OO 
	ExceptionOO "
exOO# %
)OO% &
{OO' (
LoggerPP 
.PP 
logPP 
.PP 
ErrorPP $
(PP$ %
$strPP% :
+PP; <
exPP= ?
)PP? @
;PP@ A
}RR 
}TT 
}UU 	
privateWW 
voidWW 
button_save_ClickWW &
(WW& '
objectWW' -
senderWW. 4
,WW4 5
RoutedEventArgsWW6 E
eWWF G
)WWG H
{XX 	
SaveDataYY 
(YY 
)YY 
;YY 
}ZZ 	
public\\ 
void\\ 
On_key_Down_Handler\\ '
(\\' (
object\\( .
sender\\/ 5
,\\5 6
KeyEventArgs\\7 C
inputKey\\D L
)\\L M
{\\N O
if]] 
(]] 
inputKey]] 
.]] 
Key]] 
==]] 
Key]]  #
.]]# $
Return]]$ *
)]]* +
{]], -
SaveData^^ 
(^^ 
)^^ 
;^^ 
}__ 
}`` 	
publicbb 
boolbb 
IsValidEmailbb  
(bb  !
stringbb! '
emailaddressbb( 4
)bb4 5
{bb6 7
Regexcc 
expressionEmailcc !
=cc" #
newcc$ '
Regexcc( -
(cc- .
$strcc. K
)ccK L
;ccL M
returndd 
expressionEmaildd "
.dd" #
IsMatchdd# *
(dd* +
emailaddressdd+ 7
)dd7 8
;dd8 9
}ee 	
publicgg 
boolgg 
ExistsEmailgg 
(gg  
Stringgg  &
emailAdressgg' 2
)gg2 3
{gg4 5
tryhh 
{hh 
usingii 
(ii 
varii 
clientii !
=ii" #
newii$ '
LismanServiceii( 5
.ii5 6
LoginManagerClientii6 H
(iiH I
)iiI J
)iiJ K
{iiL M
returnjj 
clientjj !
.jj! "
EmailExistsjj" -
(jj- .
emailAdressjj. 9
)jj9 :
;jj: ;
}kk 
}ll 
catchll 
(ll 
	Exceptionll 
exll !
)ll! "
{ll# $
Loggermm 
.mm 
logmm 
.mm 
Errormm  
(mm  !
$strmm! 7
+mm8 9
exmm: <
)mm< =
;mm= >
returnnn 
falsenn 
;nn 
}oo 
}qq 	
publicss 
boolss 
UserNameExistsss "
(ss" #
Stringss# )
usernamess* 2
)ss2 3
{ss4 5
trytt 
{tt 
usinguu 
(uu 
varuu 
clientuu !
=uu" #
newuu$ '
LismanServiceuu( 5
.uu5 6
LoginManagerClientuu6 H
(uuH I
)uuI J
)uuJ K
{uuL M
returnvv 
clientvv !
.vv! "
UserNameExistsvv" 0
(vv0 1
usernamevv1 9
)vv9 :
;vv: ;
}ww 
}xx 
catchxx 
(xx 
	Exceptionxx 
exxx !
)xx! "
{xx# $
Loggeryy 
.yy 
logyy 
.yy 
Erroryy  
(yy  !
$stryy! <
+yy= >
exyy? A
)yyA B
;yyB C
returnzz 
falsezz 
;zz 
}{{ 
}~~ 	
public
ÄÄ 
bool
ÄÄ 
showErrorMessage
ÄÄ $
(
ÄÄ$ %
String
ÄÄ% +
errorMessage
ÄÄ, 8
)
ÄÄ8 9
{
ÄÄ: ;

MessageBox
ÅÅ 
.
ÅÅ 
Show
ÅÅ 
(
ÅÅ 
errorMessage
ÅÅ (
)
ÅÅ( )
;
ÅÅ) *
return
ÇÇ 
false
ÇÇ 
;
ÇÇ 
}
ÉÉ 	
public
ÖÖ 
bool
ÖÖ !
validateEmptyFields
ÖÖ '
(
ÖÖ' (
)
ÖÖ( )
{
ÖÖ* +
if
ÜÜ 
(
ÜÜ 
textField_name
ÜÜ 
.
ÜÜ 
Text
ÜÜ #
==
ÜÜ$ &
string
ÜÜ' -
.
ÜÜ- .
Empty
ÜÜ. 3
)
ÜÜ3 4
{
ÜÜ5 6
return
áá 
showErrorMessage
áá '
(
áá' (

Properties
áá( 2
.
áá2 3
	Resources
áá3 <
.
áá< = 
message_error_name
áá= O
)
ááO P
;
ááP Q
}
àà 
if
ââ 
(
ââ  
textField_lastName
ââ "
.
ââ" #
Text
ââ# '
==
ââ( *
string
ââ+ 1
.
ââ1 2
Empty
ââ2 7
)
ââ7 8
{
ââ9 :
return
ää 
showErrorMessage
ää '
(
ää' (

Properties
ää( 2
.
ää2 3
	Resources
ää3 <
.
ää< =$
message_error_lastname
ää= S
)
ääS T
;
ääT U
}
ãã 
if
åå 
(
åå 
textField_email
åå 
.
åå  
Text
åå  $
==
åå% '
string
åå( .
.
åå. /
Empty
åå/ 4
)
åå4 5
{
åå6 7
return
çç 
showErrorMessage
çç '
(
çç' (

Properties
çç( 2
.
çç2 3
	Resources
çç3 <
.
çç< =!
message_error_email
çç= P
)
ççP Q
;
ççQ R
}
éé 
if
èè 
(
èè  
textField_userName
èè "
.
èè" #
Text
èè# '
==
èè( *
string
èè+ 1
.
èè1 2
Empty
èè2 7
)
èè7 8
{
èè9 :
return
êê 
showErrorMessage
êê '
(
êê' (

Properties
êê( 2
.
êê2 3
	Resources
êê3 <
.
êê< =#
message_error_usename
êê= R
)
êêR S
;
êêS T
}
ëë 
if
íí 
(
íí "
passwordBox_password
íí $
.
íí$ %
Password
íí% -
==
íí. 0
string
íí1 7
.
íí7 8
Empty
íí8 =
)
íí= >
{
íí? @
return
ìì 
showErrorMessage
ìì '
(
ìì' (

Properties
ìì( 2
.
ìì2 3
	Resources
ìì3 <
.
ìì< =$
message_error_password
ìì= S
)
ììS T
;
ììT U
}
îî 
if
ïï 
(
ïï )
passwordBox_confirmPassword
ïï +
.
ïï+ ,
Password
ïï, 4
==
ïï5 7
string
ïï8 >
.
ïï> ?
Empty
ïï? D
)
ïïD E
{
ïïF G
return
ññ 
showErrorMessage
ññ '
(
ññ' (

Properties
ññ( 2
.
ññ2 3
	Resources
ññ3 <
.
ññ< =1
#message_error_confirmation_password
ññ= `
)
ññ` a
;
ñña b
}
óó 
return
ôô 
true
ôô 
;
ôô 
}
öö 	
public
úú 
bool
úú 
ValidateData
úú  
(
úú  !
)
úú! "
{
úú# $
Regex
ùù 
rg
ùù 
=
ùù 
new
ùù 
Regex
ùù  
(
ùù  !
$str
ùù! u
)
ùùu v
;
ùùv w
if
ûû 
(
ûû 
!
ûû 
rg
ûû 
.
ûû 
IsMatch
ûû 
(
ûû 
textField_name
ûû *
.
ûû* +
Text
ûû+ /
)
ûû/ 0
)
ûû0 1
{
ûû2 3
return
üü 
showErrorMessage
üü '
(
üü' (

Properties
üü( 2
.
üü2 3
	Resources
üü3 <
.
üü< ="
message_invalid_name
üü= Q
)
üüQ R
;
üüR S
}
†† 
if
°° 
(
°° 
!
°° 
rg
°° 
.
°° 
IsMatch
°° 
(
°°  
textField_lastName
°° .
.
°°. /
Text
°°/ 3
)
°°3 4
)
°°4 5
{
°°6 7
return
¢¢ 
showErrorMessage
¢¢ &
(
¢¢& '

Properties
¢¢' 1
.
¢¢1 2
	Resources
¢¢2 ;
.
¢¢; <&
message_invalid_lastname
¢¢< T
)
¢¢T U
;
¢¢U V
}
££ 
else
§§ 
if
§§ 
(
§§ 
!
§§ 
IsValidEmail
§§ "
(
§§" #
textField_email
§§# 2
.
§§2 3
Text
§§3 7
)
§§7 8
)
§§8 9
{
§§9 :
return
•• 
showErrorMessage
•• '
(
••' (

Properties
••( 2
.
••2 3
	Resources
••3 <
.
••< =#
message_invalid_email
••= R
)
••R S
;
••S T
}
¶¶ 
else
¶¶ 
if
¶¶ 
(
¶¶ 
ExistsEmail
¶¶ "
(
¶¶" #
textField_email
¶¶# 2
.
¶¶2 3
Text
¶¶3 7
)
¶¶7 8
)
¶¶8 9
{
¶¶: ;
return
ßß 
showErrorMessage
ßß '
(
ßß' (

Properties
ßß( 2
.
ßß2 3
	Resources
ßß3 <
.
ßß< ="
message_exists_email
ßß= Q
)
ßßQ R
;
ßßR S
}
®® 
if
©© 
(
©© 
UserNameExists
©© 
(
©©  
textField_userName
©© 1
.
©©1 2
Text
©©2 6
)
©©6 7
)
©©7 8
{
©©9 :
return
™™ 
showErrorMessage
™™ (
(
™™( )

Properties
™™) 3
.
™™3 4
	Resources
™™4 =
.
™™= >%
message_exists_username
™™> U
)
™™U V
;
™™V W
}
´´ 
if
¨¨ 
(
¨¨ 
!
¨¨ "
passwordBox_password
¨¨ %
.
¨¨% &
Password
¨¨& .
.
¨¨. /
Equals
¨¨/ 5
(
¨¨5 6)
passwordBox_confirmPassword
¨¨6 Q
.
¨¨Q R
Password
¨¨R Z
)
¨¨Z [
)
¨¨[ \
{
¨¨\ ]
return
≠≠ 
showErrorMessage
≠≠ '
(
≠≠' (

Properties
≠≠( 2
.
≠≠2 3
	Resources
≠≠3 <
.
≠≠< =/
!message_error_passwords_different
≠≠= ^
)
≠≠^ _
;
≠≠_ `
}
ÆÆ 
return
ØØ 
true
ØØ 
;
ØØ 
}
∞∞ 	
public
≤≤ 
string
≤≤ 
EncodePassword
≤≤ $
(
≤≤$ %
string
≤≤% +
originalPassword
≤≤, <
)
≤≤< =
{
≥≥ 	
SHA256
¥¥ 
sha256
¥¥ 
=
¥¥ 
SHA256Managed
¥¥ )
.
¥¥) *
Create
¥¥* 0
(
¥¥0 1
)
¥¥1 2
;
¥¥2 3
ASCIIEncoding
µµ 
encoding
µµ "
=
µµ# $
new
µµ% (
ASCIIEncoding
µµ) 6
(
µµ6 7
)
µµ7 8
;
µµ8 9
byte
∂∂ 
[
∂∂ 
]
∂∂ 
stream
∂∂ 
=
∂∂ 
null
∂∂  
;
∂∂  !
StringBuilder
∑∑ 
sb
∑∑ 
=
∑∑ 
new
∑∑ "
StringBuilder
∑∑# 0
(
∑∑0 1
)
∑∑1 2
;
∑∑2 3
stream
∏∏ 
=
∏∏ 
sha256
∏∏ 
.
∏∏ 
ComputeHash
∏∏ '
(
∏∏' (
encoding
∏∏( 0
.
∏∏0 1
GetBytes
∏∏1 9
(
∏∏9 :
originalPassword
∏∏: J
)
∏∏J K
)
∏∏K L
;
∏∏L M
for
ππ 
(
ππ 
int
ππ 
i
ππ 
=
ππ 
$num
ππ 
;
ππ 
i
ππ 
<
ππ 
stream
ππ  &
.
ππ& '
Length
ππ' -
;
ππ- .
i
ππ/ 0
++
ππ0 2
)
ππ2 3
sb
ππ4 6
.
ππ6 7
AppendFormat
ππ7 C
(
ππC D
$str
ππD L
,
ππL M
stream
ππN T
[
ππT U
i
ππU V
]
ππV W
)
ππW X
;
ππX Y
return
∫∫ 
sb
∫∫ 
.
∫∫ 
ToString
∫∫ 
(
∫∫ 
)
∫∫  
;
∫∫  !
}
ºº 	
}
ΩΩ 
}ææ Ø
áC:\Users\Vik-t\Documents\Software Engineering\5to Semestre\Tecnolog√≠as para la Construcci√≥n\Proyecto\LISMAN\Lisman\Lisman\App.xaml.cs
	namespace 	
Lisman
 
{ 
public 

partial 
class 
App 
: 
Application *
{+ ,
App 
( 
) 
{		 	
} 	
} 
} •N
âC:\Users\Vik-t\Documents\Software Engineering\5to Semestre\Tecnolog√≠as para la Construcci√≥n\Proyecto\LISMAN\Lisman\Lisman\Login.xaml.cs
	namespace 	
Lisman
 
{ 
public 

partial 
class 

MainWindow #
:$ %
Window& ,
{- .
public 

MainWindow 
( 
) 
{ 	
InitializeComponent 
(  
)  !
;! "
} 	
public 
Boolean 
ValidateFields %
(% &
)& '
{ 	
if 
( 
textField_user 
. 
Text "
==# %
$str& (
)( )
{* +
var 
messageError  
=! "

Properties# -
.- .
	Resources. 7
.7 8!
message_error_usename8 M
;M N

MessageBox 
. 
Show 
(  
messageError  ,
), -
;- .
return 
false 
; 
} 
if 
(  
passwordBox_password $
.$ %
Password% -
==. 0
$str1 3
)3 4
{5 6
var 
messageError  
=! "

Properties# -
.- .
	Resources. 7
.7 8"
message_error_password8 N
;N O

MessageBox 
. 
Show 
(  
messageError  ,
), -
;- .
return 
false 
; 
} 
return 
true 
; 
}   	
private"" 
void"" 
Hyperlink_Click"" $
(""$ %
object""% +
sender"", 2
,""2 3
RoutedEventArgs""4 C
e""D E
)""E F
{## 	
UserRegister$$ 
userRegister$$ %
=$$& '
new$$( +
UserRegister$$, 8
($$8 9
)$$9 :
;$$: ;
userRegister%% 
.%% 
Show%% 
(%% 
)%% 
;%%  
this&& 
.&& 
Close&& 
(&& 
)&& 
;&& 
})) 	
private++ 
void++ "
MenuItem_Click_Spanish++ +
(+++ ,
object++, 2
sender++3 9
,++9 :
RoutedEventArgs++; J
e++K L
)++L M
{,, 	
System-- 
.-- 
	Threading-- 
.-- 
Thread-- #
.--# $
CurrentThread--$ 1
.--1 2
CurrentUICulture--2 B
=--C D
new--E H
System--I O
.--O P
Globalization--P ]
.--] ^
CultureInfo--^ i
(--i j
$str--j q
)--q r
;--r s

MainWindow.. 
login.. 
=.. 
new.. "

MainWindow..# -
(..- .
)... /
;../ 0
login// 
.// 
Show// 
(// 
)// 
;// 
this00 
.00 
Close00 
(00 
)00 
;00 
}11 	
private33 
void33 "
MenuItem_Click_English33 +
(33+ ,
object33, 2
sender333 9
,339 :
RoutedEventArgs33; J
e33K L
)33L M
{44 	
System55 
.55 
	Threading55 
.55 
Thread55 #
.55# $
CurrentThread55$ 1
.551 2
CurrentUICulture552 B
=55C D
new55E H
System55I O
.55O P
Globalization55P ]
.55] ^
CultureInfo55^ i
(55i j
$str55j l
)55l m
;55m n

MainWindow66 
login66 
=66 
new66 "

MainWindow66# -
(66- .
)66. /
;66/ 0
login77 
.77 
Show77 
(77 
)77 
;77 
this88 
.88 
Close88 
(88 
)88 
;88 
}99 	
public;; 
void;; 
On_key_Down_Handler;; '
(;;' (
object;;( .
sender;;/ 5
,;;5 6
KeyEventArgs;;7 C
inputKey;;D L
);;L M
{;;N O
if<< 
(<< 
inputKey<< 
.<< 
Key<< 
==<< 
Key<<  #
.<<# $
Return<<$ *
)<<* +
{<<, -
	LoginUser== 
(== 
)== 
;== 
}>> 
}@@ 	
privateCC 
voidCC 
btn_login_ClickCC $
(CC$ %
objectCC% +
senderCC, 2
,CC2 3
RoutedEventArgsCC4 C
eCCD E
)CCE F
{CCG H
	LoginUserDD 
(DD 
)DD 
;DD 
}EE 	
publicHH 
voidHH 
	LoginUserHH 
(HH 
)HH 
{HH  !
ifII 
(II 
ValidateFieldsII 
(II 
)II  
)II  !
{II" #
tryKK 
{LL 
usingNN 
(NN 
varNN 
clientNN !
=NN" #
newNN$ '
LismanServiceNN( 5
.NN5 6
LoginManagerClientNN6 H
(NNH I
)NNI J
)NNJ K
{NNL M
tryPP 
{PP 
LismanServiceQQ %
.QQ% &
AccountQQ& -
accountQQ. 5
=QQ6 7
clientQQ8 >
.QQ> ?
LoginAccountQQ? K
(QQK L
textField_userQQL Z
.QQZ [
TextQQ[ _
,QQ_ `
EncodePasswordQQa o
(QQo p!
passwordBox_password	QQp Ñ
.
QQÑ Ö
Password
QQÖ ç
)
QQç é
)
QQé è
;
QQè ê
ifRR 
(RR 
accountRR #
!=RR$ &
nullRR' +
)RR+ ,
{RR- .
ifSS 
(SS  
accountSS  '
.SS' (
Key_confirmationSS( 8
==SS9 ;
$strSS< ?
)SS? @
{SSA B
SingletonAccountTT  0
.TT0 1
setSingletonAccountTT1 D
(TTD E
accountTTE L
)TTL M
;TTM N
MainMenuUU  (
mainMenuUU) 1
=UU2 3
newUU4 7
MainMenuUU8 @
(UU@ A
)UUA B
;UUB C
mainMenuVV  (
.VV( )
ShowVV) -
(VV- .
)VV. /
;VV/ 0
thisWW  $
.WW$ %
CloseWW% *
(WW* +
)WW+ ,
;WW, -
}XX 
elseXX "
{XX# $
varYY  #!
messageAccountConfirmYY$ 9
=YY: ;

PropertiesYY< F
.YYF G
	ResourcesYYG P
.YYP Q#
message_account_confirmYYQ h
;YYh i

MessageBoxZZ  *
.ZZ* +
ShowZZ+ /
(ZZ/ 0!
messageAccountConfirmZZ0 E
)ZZE F
;ZZF G
}[[ 
}]] 
else^^ 
{__ 
var``  #
messageWarningLogin``$ 7
=``8 9

Properties``: D
.``D E
	Resources``E N
.``N O!
message_warning_login``O d
;``d e

MessageBoxaa  *
.aa* +
Showaa+ /
(aa/ 0
messageWarningLoginaa0 C
)aaC D
;aaD E
Loggercc  &
.cc& '
logcc' *
.cc* +
Warncc+ /
(cc/ 0
$strcc0 F
+ccG H
textField_userccI W
.ccW X
TextccX \
)cc\ ]
;cc] ^
}dd 
}ee 
catchff 
(ff 
	Exceptionff (
exff) +
)ff+ ,
{gg 
Loggerhh "
.hh" #
loghh# &
.hh& '
Errorhh' ,
(hh, -
$strhh- C
+hhD E
exhhF H
)hhH I
;hhI J
}ii 
}ll 
}mm 
catchmm 
(mm "
CommunicationExceptionmm /
emm0 1
)mm1 2
{nn 

MessageBoxoo 
.oo 
Showoo #
(oo# $
$stroo$ F
)ooF G
;ooG H
}pp 
}rr 
}ss 	
publicuu 
stringuu 
EncodePassworduu $
(uu$ %
stringuu% +
originalPassworduu, <
)uu< =
{vv 	
SHA256ww 
sha256ww 
=ww 
SHA256Managedww )
.ww) *
Createww* 0
(ww0 1
)ww1 2
;ww2 3
ASCIIEncodingxx 
encodingxx "
=xx# $
newxx% (
ASCIIEncodingxx) 6
(xx6 7
)xx7 8
;xx8 9
byteyy 
[yy 
]yy 
streamyy 
=yy 
nullyy  
;yy  !
StringBuilderzz 
sbzz 
=zz 
newzz "
StringBuilderzz# 0
(zz0 1
)zz1 2
;zz2 3
stream{{ 
={{ 
sha256{{ 
.{{ 
ComputeHash{{ '
({{' (
encoding{{( 0
.{{0 1
GetBytes{{1 9
({{9 :
originalPassword{{: J
){{J K
){{K L
;{{L M
for|| 
(|| 
int|| 
i|| 
=|| 
$num|| 
;|| 
i|| 
<|| 
stream||  &
.||& '
Length||' -
;||- .
i||/ 0
++||0 2
)||2 3
sb||4 6
.||6 7
AppendFormat||7 C
(||C D
$str||D L
,||L M
stream||N T
[||T U
i||U V
]||V W
)||W X
;||X Y
return}} 
sb}} 
.}} 
ToString}} 
(}} 
)}}  
;}}  !
}~~ 	
}
ÅÅ 
}ÇÇ ⁄
ñC:\Users\Vik-t\Documents\Software Engineering\5to Semestre\Tecnolog√≠as para la Construcci√≥n\Proyecto\LISMAN\Lisman\Lisman\Properties\AssemblyInfo.cs
[

 
assembly

 	
:

	 

AssemblyTitle

 
(

 
$str

 !
)

! "
]

" #
[ 
assembly 	
:	 

AssemblyDescription 
( 
$str !
)! "
]" #
[ 
assembly 	
:	 
!
AssemblyConfiguration  
(  !
$str! #
)# $
]$ %
[ 
assembly 	
:	 

AssemblyCompany 
( 
$str 
) 
] 
[ 
assembly 	
:	 

AssemblyProduct 
( 
$str #
)# $
]$ %
[ 
assembly 	
:	 

AssemblyCopyright 
( 
$str 0
)0 1
]1 2
[ 
assembly 	
:	 

AssemblyTrademark 
( 
$str 
)  
]  !
[ 
assembly 	
:	 

AssemblyCulture 
( 
$str 
) 
] 
[ 
assembly 	
:	 


ComVisible 
( 
false 
) 
] 
["" 
assembly"" 	
:""	 

	ThemeInfo"" 
("" &
ResourceDictionaryLocation## 
.## 
None## #
,### $&
ResourceDictionaryLocation&& 
.&& 
SourceAssembly&& -
))) 
])) 
[66 
assembly66 	
:66	 

AssemblyVersion66 
(66 
$str66 $
)66$ %
]66% &
[77 
assembly77 	
:77	 

AssemblyFileVersion77 
(77 
$str77 (
)77( )
]77) *
[88 
assembly88 	
:88	 

log4net88 
.88 
Config88 
.88 
XmlConfigurator88 )
(88) *

ConfigFile88* 4
=885 6
$str887 G
)88G H
]88H I