ØG
‰C:\Users\Vik-t\Documents\Software Engineering\5to Semestre\TecnologÃ­as para la ConstrucciÃ³n\Proyecto\LISMAN\Lisman\Lisman\Lobby.xaml.cs
	namespace 	
Lisman
 
{ 
public 

partial 
class 
Lobby 
:  
Window! '
,' (
LismanService) 6
.6 7 
IChatManagerCallback7 K
{L M
int 
COMPLETEPLAYERS 
= 
$num 
;  
InstanceContext 
instance  
=! "
null# '
;' (
LismanService 
. 
ChatManagerClient '
client( .
=/ 0
null1 5
;5 6
int 
idGame 
; 
public 
Lobby 
( 
int 
idGame 
)  
{ 	
InitializeComponent 
(  
)  !
;! "
instance 
= 
new 
InstanceContext *
(* +
this+ /
)/ 0
;0 1
this   
.   
idGame   
=   
idGame    
;    !
client!! 
=!! 
new!! 
ChatManagerClient!! *
(!!* +
instance!!+ 3
)!!3 4
;!!4 5
client"" 
."" 
JoinChat"" 
("" 
SingletonAccount"" ,
."", -
getSingletonAccount""- @
(""@ A
)""A B
.""B C
User""C G
,""G H
idGame""I O
)""O P
;""P Q!
textBlock_name_player## !
.##! "
Text##" &
=##' (
SingletonAccount##) 9
.##9 :
getSingletonAccount##: M
(##M N
)##N O
.##O P
User##P T
;##T U
btn_startGame$$ 
.$$ 
	IsEnabled$$ #
=$$$ %
false$$& +
;$$+ ,
}'' 	
private)) 
void)) 
Button_Click_Cancel)) (
())( )
object))) /
sender))0 6
,))6 7
RoutedEventArgs))8 G
e))H I
)))I J
{** 	
MultiplayerHome++ 
homeMultiplayer++ +
=++, -
new++. 1
MultiplayerHome++2 A
(++A B
)++B C
;++C D
homeMultiplayer,, 
.,, 
Show,,  
(,,  !
),,! "
;,," #
this-- 
.-- 
Close-- 
(-- 
)-- 
;-- 
}.. 	
private00 
void00 
btn_exitGame_Click00 '
(00' (
object00( .
sender00/ 5
,005 6
RoutedEventArgs007 F
e00G H
)00H I
{00J K
MultiplayerHome11 
homeMultiplayer11 +
=11, -
new11. 1
MultiplayerHome112 A
(11A B
)11B C
;11C D
LismanService22 
.22 
GameManagerClient22 +

clientGame22, 6
=227 8
new229 <
LismanService22= J
.22J K
GameManagerClient22K \
(22\ ]
)22] ^
;22^ _

clientGame33 
.33 
	LeaveGame33  
(33  !
SingletonAccount33! 1
.331 2
getSingletonAccount332 E
(33E F
)33F G
.33G H
User33H L
,33L M
idGame33N T
)33T U
;33U V
client44 
.44 
	LeaveChat44 
(44 
SingletonAccount44 -
.44- .
getSingletonAccount44. A
(44A B
)44B C
.44C D
User44D H
,44H I
idGame44J P
)44P Q
;44Q R
homeMultiplayer55 
.55 
Show55  
(55  !
)55! "
;55" #
this66 
.66 
Close66 
(66 
)66 
;66 
}77 	
public99 
void99 
NotifyMessage99 !
(99! "
Message99" )
message99* 1
)991 2
{:: 	
textBox_chat;; 
.;; 
Text;; 
+=;;  
$str;;! %
+;;& '
message;;( /
.;;/ 0
Account;;0 7
.;;7 8
User;;8 <
+;;= >
$str;;? C
+;;D E
message;;F M
.;;M N
Text;;N R
;;;R S
}== 	
public?? 
void?? 
NotifyJoinedPlayer?? &
(??& '
string??' -
user??. 2
)??2 3
{@@ 	
textBox_chatAA 
.AA 
TextAA 
+=AA  
$strAA! %
+AA& '
userAA( ,
+AA- .

PropertiesAA/ 9
.AA9 :
	ResourcesAA: C
.AAC D
joined_gameAAD O
;AAO P
}DD 	
publicFF 
voidFF 
SendMessageFF 
(FF  
)FF  !
{FF" #
RandomGG 
rdGG 
=GG 
newGG 
RandomGG "
(GG" #
$numGG# &
)GG& '
;GG' (
ifHH 
(HH 
textBox_messageHH 
.HH  
TextHH  $
!=HH% '
StringHH( .
.HH. /
EmptyHH/ 4
)HH4 5
{HH6 7
MessageII 
messageII 
=II  !
newII" %
MessageII& -
{II. /
IdKK 
=KK 
rdKK 
.KK 
NextKK  
(KK  !
)KK! "
,KK" #
Creation_dateLL !
=LL" #
DateTimeLL$ ,
.LL, -
NowLL- 0
,LL0 1
TextMM 
=MM 
textBox_messageMM *
.MM* +
TextMM+ /
,MM/ 0
AccountNN 
=NN 
SingletonAccountNN .
.NN. /
getSingletonAccountNN/ B
(NNB C
)NNC D
}OO 
;OO 
clientQQ 
.QQ 
SendMessageQQ "
(QQ" #
messageQQ# *
,QQ* +
idGameQQ, 2
)QQ2 3
;QQ3 4
textBox_messageRR 
.RR  
TextRR  $
=RR% &
StringRR' -
.RR- .
EmptyRR. 3
;RR3 4
}SS 
}WW 	
privateYY 
voidYY 
button_send_ClickYY &
(YY& '
objectYY' -
senderYY. 4
,YY4 5
RoutedEventArgsYY6 E
eYYF G
)YYG H
{ZZ 	
SendMessage[[ 
([[ 
)[[ 
;[[ 
}\\ 	
public__ 
void__ 
NotifyNumberPlayers__ '
(__' (
int__( +
numberPlayers__, 9
)__9 :
{`` 	
ifaa 
(aa 
numberPlayersaa 
==aa 
COMPLETEPLAYERSaa  /
)aa/ 0
{aa1 2
btn_startGamebb 
.bb 
	IsEnabledbb '
=bb( )
truebb* .
;bb. /
}cc $
textBlock_number_playersdd $
.dd$ %
Textdd% )
=dd* +
numberPlayersdd- :
+dd; <
$strdd= C
;ddC D
}ee 	
publichh 
voidhh 
On_key_Down_Handlerhh '
(hh' (
objecthh( .
senderhh/ 5
,hh5 6
KeyEventArgshh7 C
ehhD E
)hhE F
{hhG H
ifii 
(ii 
eii 
.ii 
Keyii 
==ii 
Keyii 
.ii 
Returnii #
)ii# $
{ii% &
SendMessagejj 
(jj 
)jj 
;jj 
}kk 
}ll 	
publicnn 
voidnn 
NotifyLeftPlayernn $
(nn$ %
stringnn% +
usernn, 0
)nn0 1
{nn2 3
textBox_chatoo 
.oo 
Textoo 
+=oo  
useroo! %
+oo& '

Propertiesoo( 2
.oo2 3
	Resourcesoo3 <
.oo< =
	left_gameoo= F
;ooF G
}pp 	
privaterr 
voidrr 
btn_startGame_Clickrr (
(rr( )
objectrr) /
senderrr0 6
,rr6 7
RoutedEventArgsrr8 G
errH I
)rrI J
{ss 	
clienttt 
.tt 
	StartGamett 
(tt 
SingletonAccounttt -
.tt- .
getSingletonAccounttt. A
(ttA B
)ttB C
.ttC D
UserttD H
,ttH I
idGamettJ P
)ttP Q
;ttQ R
}uu 	
publicww 
voidww 
InitGameww 
(ww 
)ww 
{xx 	
MultiplayerGameyy 
gameyy  
=yy! "
newyy# &
MultiplayerGameyy' 6
(yy6 7
idGameyy7 =
)yy= >
;yy> ?
gamezz 
.zz 
Showzz 
(zz 
)zz 
;zz 
this{{ 
.{{ 
Close{{ 
({{ 
){{ 
;{{ 
}|| 	
}}} 
}~~ 
…C:\Users\Vik-t\Documents\Software Engineering\5to Semestre\TecnologÃ­as para la ConstrucciÃ³n\Proyecto\LISMAN\Lisman\Lisman\Logger.cs
	namespace 	
Lisman
 
{ 
class		 	
Logger		
 
{

 
public 
static 
readonly 
log4net &
.& '
ILog' +
log, /
=0 1
log4net2 9
.9 :

LogManager: D
.D E
	GetLoggerE N
(N O
SystemO U
.U V

ReflectionV `
.` a

MethodBasea k
.k l
GetCurrentMethodl |
(| }
)} ~
.~ 
DeclaringType	 Œ
)
Œ 
;
 
} 
} ƒ
ŒC:\Users\Vik-t\Documents\Software Engineering\5to Semestre\TecnologÃ­as para la ConstrucciÃ³n\Proyecto\LISMAN\Lisman\Lisman\MainMenu.xaml.cs
	namespace 	
Lisman
 
{ 
public 

partial 
class 
MainMenu !
:" #
Window$ *
{+ ,
public 
MainMenu 
( 
) 
{ 	
InitializeComponent 
(  
)  !
;! "
} 	
private 
void 
Button_Click_Logout (
(( )
object) /
sender0 6
,6 7
RoutedEventArgs8 G
eH I
)I J
{ 	

MainWindow 
login 
= 
new "

MainWindow# -
(- .
). /
;/ 0
login 
. 
Show 
( 
) 
; 
this 
. 
Close 
( 
) 
; 
} 	
private   
void   !
table_positions_Click   *
(  * +
object  + 1
sender  2 8
,  8 9
RoutedEventArgs  : I
e  J K
)  K L
{!! 	
PositionsTable"" 
	positions"" $
=""% &
new""' *
PositionsTable""+ 9
(""9 :
)"": ;
;""; <
	positions## 
.## 
Show## 
(## 
)## 
;## 
this$$ 
.$$ 
Close$$ 
($$ 
)$$ 
;$$ 
}%% 	
private'' 
void'' (
button_multiplayerMode_Click'' 1
(''1 2
object''2 8
sender''9 ?
,''? @
RoutedEventArgs''A P
e''Q R
)''R S
{(( 	
MultiplayerHome)) 
multiplayerWindow)) -
=)). /
new))0 3
MultiplayerHome))4 C
())C D
)))D E
;))E F
multiplayerWindow** 
.** 
Show** "
(**" #
)**# $
;**$ %
this++ 
.++ 
Close++ 
(++ 
)++ 
;++ 
}-- 	
}00 
}11 ª
“C:\Users\Vik-t\Documents\Software Engineering\5to Semestre\TecnologÃ­as para la ConstrucciÃ³n\Proyecto\LISMAN\Lisman\Lisman\MultiplayerHome.xaml.cs
	namespace 	
Lisman
 
{ 
public 

partial 
class 
MultiplayerHome (
:) *
Window+ 1
{2 3
public 
MultiplayerHome 
( 
)  
{ 	
InitializeComponent 
(  
)  !
;! "
} 	
private 
void 
button_goBack_Click (
(( )
object) /
sender0 6
,6 7
RoutedEventArgs8 G
eH I
)I J
{ 	
MainMenu 
menu 
= 
new 
MainMenu  (
(( )
)) *
;* +
menu 
. 
Show 
( 
) 
; 
this   
.   
Close   
(   
)   
;   
}!! 	
private## 
void##  
button_newGame_Click## )
(##) *
object##* 0
sender##1 7
,##7 8
RoutedEventArgs##9 H
e##I J
)##J K
{$$ 	
LismanService%% 
.%% 
GameManagerClient%% +
client%%, 2
=%%3 4
new%%5 8
LismanService%%9 F
.%%F G
GameManagerClient%%G X
(%%X Y
)%%Y Z
;%%Z [
int&& 
idGame&& 
=&& 
client&& 
.&&  

CreateGame&&  *
(&&* +
SingletonAccount&&+ ;
.&&; <
getSingletonAccount&&< O
(&&O P
)&&P Q
.&&Q R
User&&R V
)&&V W
;&&W X
if'' 
('' 
idGame'' 
>'' 
$num'' 
)'' 
{'' 
Lobby(( 
lobby(( 
=(( 
new(( !
Lobby((" '
(((' (
idGame((( .
)((. /
;((/ 0
lobby)) 
.)) 
Show)) 
()) 
))) 
;)) 
this** 
.** 
Close** 
(** 
)** 
;** 
}++ 
}-- 	
private// 
void// !
button_joinGame_Click// *
(//* +
object//+ 1
sender//2 8
,//8 9
RoutedEventArgs//: I
e//J K
)//K L
{00 	
LismanService11 
.11 
GameManagerClient11 +
client11, 2
=113 4
new115 8
LismanService119 F
.11F G
GameManagerClient11G X
(11X Y
)11Y Z
;11Z [
int22 
idGame22 
=22 
client22 
.22  
JoinGame22  (
(22( )
SingletonAccount22) 9
.229 :
getSingletonAccount22: M
(22M N
)22N O
.22O P
User22P T
)22T U
;22U V
if33 
(33 
idGame33 
>33 
$num33 
)33 
{33 
Lobby44 
lobby44 
=44 
new44 !
Lobby44" '
(44' (
idGame44( .
)44. /
;44/ 0
lobby55 
.55 
Show55 
(55 
)55 
;55 
this66 
.66 
Close66 
(66 
)66 
;66 
}77 
else77 
{77 

MessageBox88 
.88 
Show88 
(88  

Properties88  *
.88* +
	Resources88+ 4
.884 5!
message_nogames_found885 J
)88J K
;88K L
}99 
}<< 	
}== 
}>> õ…
“C:\Users\Vik-t\Documents\Software Engineering\5to Semestre\TecnologÃ­as para la ConstrucciÃ³n\Proyecto\LISMAN\Lisman\Lisman\MultiplayerGame.xaml.cs
	namespace 	
Lisman
 
{ 
public 

partial 
class 
MultiplayerGame (
:) *
Window+ 1
,1 2'
IMultiplayerManagerCallback3 N
{N O
int 
idgame 
; 
int 
[ 
, 
] 
gameMap 
= 
new 
int  
[  !
$num! #
,# $
$num% '
]' (
;( )
const   
int   
LISMANYELLOW   
=    
$num  ! "
;  " #
const!! 
int!! 
	LISMANRED!! 
=!! 
$num!! 
;!!  
const"" 
int"" 

LISMANBLUE"" 
="" 
$num""  
;""  !
const## 
int## 
LISMANGREEN## 
=## 
$num##  !
;##! "
Image$$ 
lismanPlayerImage$$ 
=$$  !
null$$" &
;$$& '
int&& 
X&& 
=&& 
$num&& 
;&& 
int'' 
Y'' 
='' 
$num'' 
;'' 
String)) 
parentDirectory)) 
=))  
	Directory))! *
.))* +
	GetParent))+ 4
())4 5
	Directory))5 >
.))> ?
GetCurrentDirectory))? R
())R S
)))S T
)))T U
.))U V
Parent))V \
.))\ ]
FullName))] e
;))e f
Image++ 
pill0++ 
=++ 
new++ 
Image++ 
(++  
)++  !
;++! "
Image,, 
pill1,, 
=,, 
new,, 
Image,, 
(,,  
),,  !
;,,! "
Image-- 
pill2-- 
=-- 
new-- 
Image-- 
(--  
)--  !
;--! "
Image.. 
pill3.. 
=.. 
new.. 
Image.. 
(..  
)..  !
;..! "
Image// 
pill4// 
=// 
new// 
Image// 
(//  
)//  !
;//! "
Image00 
pill500 
=00 
new00 
Image00 
(00  
)00  !
;00! "
Image11 
pill611 
=11 
new11 
Image11 
(11  
)11  !
;11! "
Image22 
pill722 
=22 
new22 
Image22 
(22  
)22  !
;22! "
Image33 
pill833 
=33 
new33 
Image33 
(33  
)33  !
;33! "
Image44 
pill944 
=44 
new44 
Image44 
(44  
)44  !
;44! "
Image55 
pill1055 
=55 
new55 
Image55  
(55  !
)55! "
;55" #
Image66 
pill1166 
=66 
new66 
Image66  
(66  !
)66! "
;66" #
DispatcherTimer88 
runLeft88 
=88  !
new88" %
DispatcherTimer88& 5
(885 6
)886 7
;887 8
DispatcherTimer99 
runUp99 
=99 
new99  #
DispatcherTimer99$ 3
(993 4
)994 5
;995 6
DispatcherTimer:: 
runRight::  
=::! "
new::# &
DispatcherTimer::' 6
(::6 7
)::7 8
;::8 9
DispatcherTimer;; 
runDown;; 
=;;  !
new;;" %
DispatcherTimer;;& 5
(;;5 6
);;6 7
;;;7 8
InstanceContext== 
instace== 
===  !
null==" &
;==& '$
MultiplayerManagerClient>>  
client>>! '
=>>( )
null>>* .
;>>. /
public@@ 
MultiplayerGame@@ 
(@@ 
int@@ "
idgame@@# )
)@@) *
{AA 	
InitializeComponentBB 
(BB  
)BB  !
;BB! "
instaceCC 
=CC 
newCC 
InstanceContextCC )
(CC) *
thisCC* .
)CC. /
;CC/ 0
thisDD 
.DD 
idgameDD 
=DD 
idgameDD  
;DD  !
clientEE 
=EE 
newEE $
MultiplayerManagerClientEE 1
(EE1 2
instaceEE2 9
)EE9 :
;EE: ;
tryFF 
{GG 
clientHH 
.HH 
JoinMultiplayerGameHH *
(HH* +
SingletonAccountHH+ ;
.HH; <
getSingletonAccountHH< O
(HHO P
)HHP Q
.HHQ R
UserHHR V
,HHV W
idgameHHX ^
)HH^ _
;HH_ `
}II 
catchJJ 
(JJ 
	ExceptionJJ 
exJJ 
)JJ  
{KK 
LoggerLL 
.LL 
logLL 
.LL 
ErrorLL  
(LL  !
exLL! #
)LL# $
;LL$ %
}NN 
runLeftQQ 
.QQ 
TickQQ 
+=QQ 
newQQ  
EventHandlerQQ! -
(QQ- .
RunLeftQQ. 5
)QQ5 6
;QQ6 7
runLeftRR 
.RR 
IntervalRR 
=RR 
newRR "
TimeSpanRR# +
(RR+ ,
$numRR, -
,RR- .
$numRR/ 0
,RR0 1
$numRR2 3
,RR3 4
$numRR5 6
,RR6 7
$numRR8 ;
)RR; <
;RR< =
runUpSS 
.SS 
TickSS 
+=SS 
newSS 
EventHandlerSS *
(SS* +
RunUpSS+ 0
)SS0 1
;SS1 2
runUpTT 
.TT 
IntervalTT 
=TT 
newTT  
TimeSpanTT! )
(TT) *
$numTT* +
,TT+ ,
$numTT- .
,TT. /
$numTT0 1
,TT1 2
$numTT3 4
,TT4 5
$numTT5 8
)TT8 9
;TT9 :
runRightUU 
.UU 
TickUU 
+=UU 
newUU  
EventHandlerUU! -
(UU- .
RunRightUU. 6
)UU6 7
;UU7 8
runRightVV 
.VV 
IntervalVV 
=VV 
newVV  #
TimeSpanVV$ ,
(VV, -
$numVV- .
,VV. /
$numVV0 1
,VV1 2
$numVV3 4
,VV4 5
$numVV6 7
,VV7 8
$numVV9 <
)VV< =
;VV= >
runDownWW 
.WW 
TickWW 
+=WW 
newWW 
EventHandlerWW  ,
(WW, -
RunDownWW- 4
)WW4 5
;WW5 6
runDownXX 
.XX 
IntervalXX 
=XX 
newXX "
TimeSpanXX# +
(XX+ ,
$numXX, -
,XX- .
$numXX/ 0
,XX0 1
$numXX2 3
,XX3 4
$numXX5 6
,XX6 7
$numXX8 ;
)XX; <
;XX< =

MatrizGameZZ 
(ZZ 
)ZZ 
;ZZ 
	DrawPills[[ 
([[ 
)[[ 
;[[ 
}]] 	
public__ 
void__ 

MatrizGame__ 
(__ 
)__  
{__! "
using`` 
(`` 
StreamReader`` 
sr``  "
=``# $
new``% (
StreamReader``) 5
(``5 6
parentDirectory``6 E
+``F G
$str``H \
)``\ ]
)``] ^
{``_ `
forbb 
(bb 
intbb 
ibb 
=bb 
$numbb 
;bb 
ibb  !
<=bb" $
$numbb% '
;bb' (
ibb) *
++bb* ,
)bb, -
{bb. /
forcc 
(cc 
intcc 
jcc 
=cc  
$numcc! "
;cc" #
jcc$ %
<=cc& (
$numcc) +
;cc+ ,
jcc- .
++cc. 0
)cc0 1
{cc2 3
intdd 
caracterdd $
=dd% &
srdd' )
.dd) *
Readdd* .
(dd. /
)dd/ 0
;dd0 1
ifff 
(ff 
caracterff $
!=ff% '
-ff( )
$numff) *
)ff* +
{ff, -
ifhh 
(hh  
caracterhh  (
==hh) +
$numhh, .
)hh. /
{hh0 1
gameMapii  '
[ii' (
iii( )
,ii) *
jii+ ,
]ii, -
=ii. /
$numii0 1
;ii1 2
}jj 
ifll 
(ll  
caracterll  (
==ll) +
$numll, .
)ll. /
{ll0 1
gameMapmm  '
[mm' (
imm( )
,mm) *
jmm+ ,
]mm, -
=mm. /
$nummm0 1
;mm1 2
}nn 
ifpp 
(pp  
caracterpp  (
==pp) +
$numpp, .
)pp. /
{pp0 1
gameMapqq  '
[qq' (
iqq( )
,qq) *
jqq+ ,
]qq, -
=qq. /
$numqq0 1
;qq1 2
}rr 
iftt 
(tt  
caractertt  (
==tt) +
$numtt, .
)tt. /
{tt0 1
gameMapuu  '
[uu' (
iuu( )
,uu) *
juu+ ,
]uu, -
=uu. /
$numuu0 1
;uu1 2
}vv 
ifxx 
(xx  
caracterxx  (
==xx) +
$numxx, .
)xx. /
{xx0 1
gameMapyy  '
[yy' (
iyy( )
,yy) *
jyy+ ,
]yy, -
=yy. /
$numyy0 1
;yy1 2
}zz 
if|| 
(||  
caracter||  (
==||) +
$num||, .
)||. /
{||0 1
gameMap}}  '
[}}' (
i}}( )
,}}) *
j}}+ ,
]}}, -
=}}. /
$num}}0 1
;}}1 2
}~~ 
if 
(  
caracter  (
==) +
$num, .
). /
{0 1
gameMap
€€  '
[
€€' (
i
€€( )
,
€€) *
j
€€+ ,
]
€€, -
=
€€. /
$num
€€0 1
;
€€1 2
}
 
}
‚‚ 
}
„„ 
Console
…… 
.
…… 
	WriteLine
…… %
(
……% &
)
……& '
;
……' (
}
†† 
}
ˆˆ 
}
ŠŠ 	
public
ŒŒ 
void
ŒŒ 
	DrawPills
ŒŒ 
(
ŒŒ 
)
ŒŒ 
{
ŒŒ  !
BitmapImage
 
bmp1
 
=
 
new
 "
BitmapImage
# .
(
. /
)
/ 0
;
0 1
bmp1
 
.
 
	BeginInit
 
(
 
)
 
;
 
bmp1
 
.
 
	UriSource
 
=
 
new
  
Uri
! $
(
$ %
parentDirectory
% 4
+
5 6
$str
7 P
)
P Q
;
Q R
bmp1
 
.
 
EndInit
 
(
 
)
 
;
 
pill0
’’ 
.
’’ 
Source
’’ 
=
’’ 
bmp1
’’ 
;
’’  
pill1
““ 
.
““ 
Source
““ 
=
““ 
bmp1
““ 
;
““  
pill2
”” 
.
”” 
Source
”” 
=
”” 
bmp1
”” 
;
””  
pill3
•• 
.
•• 
Source
•• 
=
•• 
bmp1
•• 
;
••  
pill4
–– 
.
–– 
Source
–– 
=
–– 
bmp1
–– 
;
––  
pill5
—— 
.
—— 
Source
—— 
=
—— 
bmp1
—— 
;
——  
pill6
˜˜ 
.
˜˜ 
Source
˜˜ 
=
˜˜ 
bmp1
˜˜ 
;
˜˜  
pill7
™™ 
.
™™ 
Source
™™ 
=
™™ 
bmp1
™™ 
;
™™  
pill8
šš 
.
šš 
Source
šš 
=
šš 
bmp1
šš 
;
šš  
pill9
›› 
.
›› 
Source
›› 
=
›› 
bmp1
›› 
;
››  
pill10
œœ 
.
œœ 
Source
œœ 
=
œœ 
bmp1
œœ  
;
œœ  !
pill11
 
.
 
Source
 
=
 
bmp1
  
;
  !
	panel_5_2
ŸŸ 
.
ŸŸ 
Children
ŸŸ 
.
ŸŸ 
Add
ŸŸ "
(
ŸŸ" #
pill0
ŸŸ# (
)
ŸŸ( )
;
ŸŸ) *
panel_11_18
   
.
   
Children
    
.
    !
Add
  ! $
(
  $ %
pill1
  % *
)
  * +
;
  + ,

panel_11_5
¡¡ 
.
¡¡ 
Children
¡¡ 
.
¡¡  
Add
¡¡  #
(
¡¡# $
pill2
¡¡$ )
)
¡¡) *
;
¡¡* +
panel_12_12
¢¢ 
.
¢¢ 
Children
¢¢  
.
¢¢  !
Add
¢¢! $
(
¢¢$ %
pill3
¢¢% *
)
¢¢* +
;
¢¢+ ,
panel_13_12
££ 
.
££ 
Children
££  
.
££  !
Add
££! $
(
££$ %
pill4
££% *
)
££* +
;
££+ ,
panel_21_12
¤¤ 
.
¤¤ 
Children
¤¤  
.
¤¤  !
Add
¤¤! $
(
¤¤$ %
pill5
¤¤% *
)
¤¤* +
;
¤¤+ ,
	panel_7_7
¥¥ 
.
¥¥ 
Children
¥¥ 
.
¥¥ 
Add
¥¥ "
(
¥¥" #
pill6
¥¥# (
)
¥¥( )
;
¥¥) *
	panel_9_9
¦¦ 
.
¦¦ 
Children
¦¦ 
.
¦¦ 
Add
¦¦ "
(
¦¦" #
pill7
¦¦# (
)
¦¦( )
;
¦¦) *
panel_15_22
§§ 
.
§§ 
Children
§§  
.
§§  !
Add
§§! $
(
§§$ %
pill8
§§% *
)
§§* +
;
§§+ ,

panel_16_1
¨¨ 
.
¨¨ 
Children
¨¨ 
.
¨¨  
Add
¨¨  #
(
¨¨# $
pill9
¨¨$ )
)
¨¨) *
;
¨¨* +

panel_4_10
©© 
.
©© 
Children
©© 
.
©©  
Add
©©  #
(
©©# $
pill10
©©$ *
)
©©* +
;
©©+ ,

panel_2_13
ªª 
.
ªª 
Children
ªª 
.
ªª  
Add
ªª  #
(
ªª# $
pill11
ªª$ *
)
ªª* +
;
ªª+ ,
}
«« 	
public
®® 
bool
®® 
canMove
®® 
(
®® 
int
®® 
onX
®®  #
,
®®# $
int
®®% (
onY
®®) ,
)
®®, -
{
®®. /
bool
°° 
can
°° 
=
°° 
true
°° 
;
°° 
if
±± 
(
±± 
gameMap
±± 
[
±± 
onX
±± 
,
±± 
onY
±±  
]
±±  !
==
±±" $
$num
±±% &
)
±±& '
{
±±( )
can
²² 
=
²² 
false
²² 
;
²² 
}
³³ 
return
µµ 
can
µµ 
;
µµ 
}
·· 	
public
¹¹ 
void
¹¹ 

StopLisman
¹¹ 
(
¹¹ 
)
¹¹  
{
¹¹! "
runLeft
ºº 
.
ºº 
Stop
ºº 
(
ºº 
)
ºº 
;
ºº 
runUp
»» 
.
»» 
Stop
»» 
(
»» 
)
»» 
;
»» 
runRight
¼¼ 
.
¼¼ 
Stop
¼¼ 
(
¼¼ 
)
¼¼ 
;
¼¼ 
runDown
½½ 
.
½½ 
Stop
½½ 
(
½½ 
)
½½ 
;
½½ 
}
¾¾ 	
private
ÀÀ 
void
ÀÀ 
Button_Click
ÀÀ !
(
ÀÀ! "
object
ÀÀ" (
sender
ÀÀ) /
,
ÀÀ/ 0
RoutedEventArgs
ÀÀ1 @
e
ÀÀA B
)
ÀÀB C
{
ÀÀD E

StopLisman
ÁÁ 
(
ÁÁ 
)
ÁÁ 
;
ÁÁ 
runRight
ÂÂ 
.
ÂÂ 
Start
ÂÂ 
(
ÂÂ 
)
ÂÂ 
;
ÂÂ 
}
ÃÃ 	
private
ÅÅ 
void
ÅÅ 
RunLeft
ÅÅ 
(
ÅÅ 
object
ÅÅ #
sender
ÅÅ$ *
,
ÅÅ* +
	EventArgs
ÅÅ, 5
e
ÅÅ6 7
)
ÅÅ7 8
{
ÅÅ9 :
if
ÆÆ 
(
ÆÆ 
X
ÆÆ 
==
ÆÆ 
$num
ÆÆ 
&&
ÆÆ 
Y
ÆÆ 
==
ÆÆ 
$num
ÆÆ !
)
ÆÆ! "
{
ÆÆ# $
X
ÇÇ 
=
ÇÇ 
$num
ÇÇ 
;
ÇÇ 
Y
ÈÈ 
=
ÈÈ 
$num
ÈÈ 
;
ÈÈ 
MoveLismanInMap
ËË 
(
ËË  
$num
ËË  !
,
ËË! "
$num
ËË# $
,
ËË$ %
X
ËË& '
,
ËË' (
Y
ËË) *
)
ËË* +
;
ËË+ ,
return
ÌÌ 
;
ÌÌ 
}
ÍÍ 
if
ÎÎ 
(
ÎÎ 
canMove
ÎÎ 
(
ÎÎ 
X
ÎÎ 
-
ÎÎ 
$num
ÎÎ 
,
ÎÎ 
Y
ÎÎ  
)
ÎÎ  !
)
ÎÎ! "
{
ÎÎ# $
if
ÏÏ 
(
ÏÏ 
X
ÏÏ 
>
ÏÏ 
$num
ÏÏ 
)
ÏÏ 
{
ÏÏ 
X
ĞĞ 
-=
ĞĞ 
$num
ĞĞ 
;
ĞĞ 
MoveLismanInMap
ÔÔ #
(
ÔÔ# $
$num
ÔÔ$ %
,
ÔÔ% &
$num
ÔÔ' (
,
ÔÔ( )
X
ÔÔ* +
,
ÔÔ+ ,
Y
ÔÔ- .
)
ÔÔ. /
;
ÔÔ/ 0
}
ÕÕ 
}
ÖÖ 
else
ÖÖ 
{
ÖÖ 

StopLisman
×× 
(
×× 
)
×× 
;
×× 
}
ØØ 
}
ÛÛ 	
private
İİ 
void
İİ 
RunUp
İİ 
(
İİ 
object
İİ !
sender
İİ" (
,
İİ( )
	EventArgs
İİ* 3
e
İİ4 5
)
İİ5 6
{
İİ7 8
if
ßß 
(
ßß 
canMove
ßß 
(
ßß 
X
ßß 
,
ßß 
Y
ßß 
-
ßß 
$num
ßß  
)
ßß  !
)
ßß! "
{
ßß# $
Y
àà 
-=
àà 
$num
àà 
;
àà 
MoveLismanInMap
ãã 
(
ãã  
$num
ãã  !
,
ãã! "
$num
ãã# $
,
ãã$ %
X
ãã& '
,
ãã' (
Y
ãã) *
)
ãã* +
;
ãã+ ,
}
ää 
else
ää 
{
ää 

StopLisman
åå 
(
åå 
)
åå 
;
åå 
}
ææ 
}
éé 	
private
ëë 
void
ëë 
RunRight
ëë 
(
ëë 
object
ëë $
sender
ëë% +
,
ëë+ ,
	EventArgs
ëë- 6
e
ëë7 8
)
ëë8 9
{
ëë: ;
if
ìì 
(
ìì 
X
ìì 
==
ìì 
$num
ìì 
&&
ìì 
Y
ìì 
==
ìì 
$num
ìì  "
)
ìì" #
{
ìì$ %
X
íí 
=
íí 
$num
íí 
;
íí 
Y
îî 
=
îî 
$num
îî 
;
îî 
MoveLismanInMap
ññ 
(
ññ  
$num
ññ  !
,
ññ! "
$num
ññ# $
,
ññ$ %
X
ññ& '
,
ññ' (
Y
ññ) *
)
ññ* +
;
ññ+ ,
return
òò 
;
òò 
}
óó 
if
ôô 
(
ôô 
canMove
ôô 
(
ôô 
X
ôô 
+
ôô 
$num
ôô 
,
ôô 
Y
ôô  
)
ôô  !
)
ôô! "
{
ôô# $
X
õõ 
+=
õõ 
$num
õõ 
;
õõ 
MoveLismanInMap
øø 
(
øø  
$num
øø  !
,
øø! "
$num
øø# $
,
øø$ %
X
øø& '
,
øø' (
Y
øø) *
)
øø* +
;
øø+ ,
}
ùù 
else
ùù 
{
ùù 

StopLisman
úú 
(
úú 
)
úú 
;
úú 
}
ûû 
}
şş 	
private
€€ 
void
€€ 
RunDown
€€ 
(
€€ 
object
€€ #
sender
€€$ *
,
€€* +
	EventArgs
€€, 5
e
€€6 7
)
€€7 8
{
€€9 :
if
 
(
 
canMove
 
(
 
X
 
,
 
Y
 
+
 
$num
  
)
  !
)
! "
{
# $
Y
‚‚ 
+=
‚‚ 
$num
‚‚ 
;
‚‚ 
MoveLismanInMap
…… 
(
……  
$num
……  !
,
……! "
$num
……" #
,
……# $
X
……$ %
,
……% &
Y
……& '
)
……' (
;
……( )
}
†† 
else
†† 
{
†† 

StopLisman
‡‡ 
(
‡‡ 
)
‡‡ 
;
‡‡ 
}
ˆˆ 
}
‰‰ 	
public
ŒŒ 
void
ŒŒ 
MoveLismanInMap
ŒŒ #
(
ŒŒ# $
int
ŒŒ$ '
initialPositionX
ŒŒ( 8
,
ŒŒ8 9
int
ŒŒ: =
initialPositionY
ŒŒ> N
,
ŒŒN O
int
ŒŒP S
finalPositionX
ŒŒT b
,
ŒŒb c
int
ŒŒd g
finalPositionY
ŒŒh v
)
ŒŒv w
{
 	
client
 
.
 

MoveLisman
 
(
 
this
 "
.
" #
idgame
# )
,
) *
SingletonAccount
+ ;
.
; <!
getSingletonAccount
< O
(
O P
)
P Q
.
Q R
User
R V
,
V W
initialPositionX
X h
,
h i
initialPositionY
j z
,
z {
finalPositionX| Š
,Š ‹
finalPositionYŒ š
)š ›
;› œ
}
 	
private
’’ 
void
’’ 
Matriz_KeyDown
’’ #
(
’’# $
object
’’$ *
sender
’’+ 1
,
’’1 2
KeyEventArgs
’’3 ?
e
’’@ A
)
’’A B
{
’’C D
if
““ 
(
““ 
e
““ 
.
““ 
Key
““ 
==
““ 
Key
““ 
.
““ 
Left
““ !
)
““! "
{
““# $
runUp
”” 
.
”” 
Stop
”” 
(
”” 
)
”” 
;
”” 
runRight
•• 
.
•• 
Stop
•• 
(
•• 
)
•• 
;
••  
runDown
–– 
.
–– 
Stop
–– 
(
–– 
)
–– 
;
–– 
runLeft
—— 
.
—— 
Start
—— 
(
—— 
)
—— 
;
——  
}
˜˜ 
if
™™ 
(
™™ 
e
™™ 
.
™™ 
Key
™™ 
==
™™ 
Key
™™ 
.
™™ 
Up
™™ 
)
™™  
{
™™! "
runLeft
šš 
.
šš 
Stop
šš 
(
šš 
)
šš 
;
šš 
runRight
œœ 
.
œœ 
Stop
œœ 
(
œœ 
)
œœ 
;
œœ  
runDown
 
.
 
Stop
 
(
 
)
 
;
 
runUp
 
.
 
Start
 
(
 
)
 
;
 
}
ŸŸ 
if
   
(
   
e
   
.
   
Key
   
==
   
Key
   
.
   
Right
   "
)
  " #
{
  $ %
runLeft
¡¡ 
.
¡¡ 
Stop
¡¡ 
(
¡¡ 
)
¡¡ 
;
¡¡ 
runUp
¢¢ 
.
¢¢ 
Stop
¢¢ 
(
¢¢ 
)
¢¢ 
;
¢¢ 
runDown
¤¤ 
.
¤¤ 
Stop
¤¤ 
(
¤¤ 
)
¤¤ 
;
¤¤ 
runRight
¥¥ 
.
¥¥ 
Start
¥¥ 
(
¥¥ 
)
¥¥  
;
¥¥  !
}
¦¦ 
if
§§ 
(
§§ 
e
§§ 
.
§§ 
Key
§§ 
==
§§ 
Key
§§ 
.
§§ 
Down
§§ !
)
§§! "
{
§§# $
runLeft
¨¨ 
.
¨¨ 
Stop
¨¨ 
(
¨¨ 
)
¨¨ 
;
¨¨ 
runUp
©© 
.
©© 
Stop
©© 
(
©© 
)
©© 
;
©© 
runRight
ªª 
.
ªª 
Stop
ªª 
(
ªª 
)
ªª 
;
ªª  
runDown
¬¬ 
.
¬¬ 
Start
¬¬ 
(
¬¬ 
)
¬¬ 
;
¬¬  
}
­­ 
}
®® 	
public
°° 
void
°° 
NotifyColorPlayer
°° %
(
°°% &
int
°°& )
colorPlayer
°°* 5
,
°°5 6
String
°°7 =
user
°°> B
)
°°B C
{
±± 	
switch
²² 
(
²² 
colorPlayer
²² 
)
²²  
{
³³ 
case
´´ 
LISMANYELLOW
´´ !
:
´´! "
lismanPlayerImage
µµ %
=
µµ& '
LismanYellowImage
µµ( 9
;
µµ9 :
X
¶¶ 
=
¶¶ 
$num
¶¶ 
;
¶¶ 
Y
·· 
=
·· 
$num
·· 
;
·· 
UserLismanYellow
¸¸ $
.
¸¸$ %
Text
¸¸% )
=
¸¸* +
user
¸¸, 0
;
¸¸0 1
break
¹¹ 
;
¹¹ 
case
ºº 
	LISMANRED
ºº 
:
ºº 
lismanPlayerImage
»» %
=
»»& '
LismanRedImage
»»( 6
;
»»6 7
X
¼¼ 
=
¼¼ 
$num
¼¼ 
;
¼¼ 
Y
½½ 
=
½½ 
$num
½½ 
;
½½ 
UserLismanRed
¾¾ !
.
¾¾! "
Text
¾¾" &
=
¾¾' (
user
¾¾) -
;
¾¾- .
break
¿¿ 
;
¿¿ 
case
ÀÀ 

LISMANBLUE
ÀÀ 
:
ÀÀ  
lismanPlayerImage
ÁÁ %
=
ÁÁ& '"
LismanTurquoiseImage
ÁÁ( <
;
ÁÁ< =
X
ÂÂ 
=
ÂÂ 
$num
ÂÂ 
;
ÂÂ 
Y
ÃÃ 
=
ÃÃ 
$num
ÃÃ 
;
ÃÃ 
UserLismanBlue
ÄÄ "
.
ÄÄ" #
Text
ÄÄ# '
=
ÄÄ( )
user
ÄÄ* .
;
ÄÄ. /
break
ÅÅ 
;
ÅÅ 
case
ÆÆ 
LISMANGREEN
ÆÆ  
:
ÆÆ  !
lismanPlayerImage
ÇÇ %
=
ÇÇ& '
LismanGreenImage
ÇÇ( 8
;
ÇÇ8 9
X
ÈÈ 
=
ÈÈ 
$num
ÈÈ 
;
ÈÈ 
Y
ÉÉ 
=
ÉÉ 
$num
ÉÉ 
;
ÉÉ 
UserLismanGreen
ÊÊ #
.
ÊÊ# $
Text
ÊÊ$ (
=
ÊÊ) *
user
ÊÊ+ /
;
ÊÊ/ 0
break
ËË 
;
ËË 
}
ÌÌ 
}
ÍÍ 	
public
ÏÏ 
void
ÏÏ 
NotifyLismanMoved
ÏÏ %
(
ÏÏ% &
int
ÏÏ& )
colorPlayer
ÏÏ* 5
,
ÏÏ5 6
int
ÏÏ7 :
	positionX
ÏÏ; D
,
ÏÏD E
int
ÏÏF I
	positionY
ÏÏJ S
)
ÏÏS T
{
ĞĞ 	
Image
ÑÑ 
lismanImageMoved
ÑÑ "
=
ÑÑ# $
null
ÑÑ% )
;
ÑÑ) *
switch
ÒÒ 
(
ÒÒ 
colorPlayer
ÒÒ 
)
ÒÒ  
{
ÓÓ 
case
ÔÔ 
LISMANYELLOW
ÔÔ !
:
ÔÔ! "
lismanImageMoved
ÕÕ $
=
ÕÕ% &
LismanYellowImage
ÕÕ' 8
;
ÕÕ8 9
break
ÖÖ 
;
ÖÖ 
case
×× 
	LISMANRED
×× 
:
×× 
lismanImageMoved
ØØ $
=
ØØ% &
LismanRedImage
ØØ' 5
;
ØØ5 6
break
ÙÙ 
;
ÙÙ 
case
ÚÚ 

LISMANBLUE
ÚÚ 
:
ÚÚ  
lismanImageMoved
ÛÛ $
=
ÛÛ% &"
LismanTurquoiseImage
ÛÛ' ;
;
ÛÛ; <
break
ÜÜ 
;
ÜÜ 
case
İİ 
LISMANGREEN
İİ  
:
İİ  !
lismanImageMoved
ŞŞ $
=
ŞŞ% &
LismanGreenImage
ŞŞ' 7
;
ŞŞ7 8
break
ßß 
;
ßß 
}
àà 
Grid
áá 
.
áá 
	SetColumn
áá 
(
áá 
lismanImageMoved
áá +
,
áá+ ,
	positionX
áá- 6
)
áá6 7
;
áá7 8
Grid
ââ 
.
ââ 
SetRow
ââ 
(
ââ 
lismanImageMoved
ââ (
,
ââ( )
	positionY
ââ* 3
)
ââ3 4
;
ââ4 5
}
ãã 	
public
åå 
void
åå %
PrintInformationPlayers
åå +
(
åå+ ,

Dictionary
åå, 6
<
åå6 7
string
åå7 =
,
åå= >
InformationPlayer
åå? P
>
ååP Q
listPlayers
ååR ]
)
åå] ^
{
ææ 	
foreach
çç 
(
çç 
KeyValuePair
çç !
<
çç! "
String
çç" (
,
çç( )
InformationPlayer
çç* ;
>
çç; <
player
çç= C
in
ççD F
listPlayers
ççG R
)
ççR S
{
èè 
int
éé 
colorPlayer
éé 
=
éé  !
player
éé" (
.
éé( )
Value
éé) .
.
éé. /
colorLisman
éé/ :
;
éé: ;
switch
êê 
(
êê 
colorPlayer
êê #
)
êê# $
{
ëë 
case
ìì 
LISMANYELLOW
ìì %
:
ìì% &
UserLismanYellow
íí (
.
íí( )
Text
íí) -
=
íí. /
player
íí/ 5
.
íí5 6
Key
íí6 9
;
íí9 :#
UserLismanYellowLifes
îî -
.
îî- .
Text
îî. 2
=
îî3 4
player
îî5 ;
.
îî; <
Value
îî< A
.
îîA B
lifesLisman
îîB M
.
îîM N
ToString
îîN V
(
îîV W
)
îîW X
;
îîX Y#
UserLismanYellowScore
ïï -
.
ïï- .
Text
ïï. 2
=
ïï3 4
player
ïï5 ;
.
ïï; <
Value
ïï< A
.
ïïA B
scoreLisman
ïïB M
.
ïïM N
ToString
ïïN V
(
ïïV W
)
ïïW X
;
ïïX Y
break
ğğ 
;
ğğ 
case
ññ 
	LISMANRED
ññ "
:
ññ" #
UserLismanRed
òò %
.
òò% &
Text
òò& *
=
òò+ ,
player
òò- 3
.
òò3 4
Key
òò4 7
;
òò7 8 
UserLismanRedLifes
óó *
.
óó* +
Text
óó+ /
=
óó0 1
player
óó2 8
.
óó8 9
Value
óó9 >
.
óó> ?
lifesLisman
óó? J
.
óóJ K
ToString
óóK S
(
óóS T
)
óóT U
;
óóU V 
UserLismanRedScore
ôô *
.
ôô* +
Text
ôô+ /
=
ôô0 1
player
ôô2 8
.
ôô8 9
Value
ôô9 >
.
ôô> ?
scoreLisman
ôô? J
.
ôôJ K
ToString
ôôK S
(
ôôS T
)
ôôT U
;
ôôU V
break
õõ 
;
õõ 
case
öö 

LISMANBLUE
öö #
:
öö# $
UserLismanBlue
÷÷ &
.
÷÷& '
Text
÷÷' +
=
÷÷, -
player
÷÷. 4
.
÷÷4 5
Key
÷÷5 8
;
÷÷8 9!
UserLismanBlueLifes
øø +
.
øø+ ,
Text
øø, 0
=
øø1 2
player
øø3 9
.
øø9 :
Value
øø: ?
.
øø? @
lifesLisman
øø@ K
.
øøK L
ToString
øøL T
(
øøT U
)
øøU V
;
øøV W!
UserLismanBlueScore
ùù +
.
ùù+ ,
Text
ùù, 0
=
ùù1 2
player
ùù3 9
.
ùù9 :
Value
ùù: ?
.
ùù? @
scoreLisman
ùù@ K
.
ùùK L
ToString
ùùL T
(
ùùT U
)
ùùU V
;
ùùV W
break
úú 
;
úú 
case
ûû 
LISMANGREEN
ûû $
:
ûû$ %
UserLismanGreen
üü '
.
üü' (
Text
üü( ,
=
üü- .
player
üü/ 5
.
üü5 6
Key
üü6 9
;
üü9 :"
UserLismanGreenLifes
ıı ,
.
ıı, -
Text
ıı- 1
=
ıı2 3
player
ıı4 :
.
ıı: ;
Value
ıı; @
.
ıı@ A
lifesLisman
ııA L
.
ııL M
ToString
ııM U
(
ııU V
)
ııV W
;
ııW X"
UserLismanGreenScore
şş ,
.
şş, -
Text
şş- 1
=
şş2 3
player
şş4 :
.
şş: ;
Value
şş; @
.
şş@ A
scoreLisman
şşA L
.
şşL M
ToString
şşM U
(
şşU V
)
şşV W
;
şşW X
break
ÿÿ 
;
ÿÿ 
}
€€ 
}
 
}
‚‚ 	
}
ƒƒ 
}„„ ’
’C:\Users\Vik-t\Documents\Software Engineering\5to Semestre\TecnologÃ­as para la ConstrucciÃ³n\Proyecto\LISMAN\Lisman\Lisman\PositionsTable.xaml.cs
	namespace 	
Lisman
 
{ 
public 

partial 
class 
PositionsTable '
:( )
Window* 0
{1 2
public 
PositionsTable 
( 
) 
{ 	
InitializeComponent 
(  
)  !
;! "
	LoadTable 
( 
) 
; 
} 	
private 
void  
Button_Click_go_back )
() *
object* 0
sender1 7
,7 8
RoutedEventArgs9 H
eI J
)J K
{ 	
MainMenu 
menu 
= 
new 
MainMenu  (
(( )
)) *
;* +
menu 
. 
Show 
( 
) 
; 
this 
. 
Close 
( 
) 
; 
} 	
public!! 
void!! 
	LoadTable!! 
(!! 
)!! 
{"" 	
using## 
(## 
var## 
client## 
=## 
new##  #
LismanService##$ 1
.##1 2 
AccountManagerClient##2 F
(##F G
)##G H
)##H I
{##J K
try$$ 
{$$ 
var%% 
listRecords%% #
=%%$ %
client%%& ,
.%%, -

GetRecords%%- 7
(%%7 8
)%%8 9
;%%9 :
table_positions&& #
.&&# $
ItemsSource&&$ /
=&&0 1
listRecords&&2 =
;&&= >
}'' 
catch'' 
('' 
	Exception'' "
ex''# %
)''% &
{''' (
Logger(( 
.(( 
log(( 
.(( 
Error(( $
((($ %
$str((% ;
+((; <
ex((= ?
)((? @
;((@ A
})) 
}** 
}++ 	
}.. 
}// ì
C:\Users\Vik-t\Documents\Software Engineering\5to Semestre\TecnologÃ­as para la ConstrucciÃ³n\Proyecto\LISMAN\Lisman\Lisman\SingletonAccount.cs
	namespace 	
Lisman
 
{ 
class 	
SingletonAccount
 
{ 
private		 
static		 
LismanService		 $
.		$ %
Account		% ,
account		- 4
=		5 6
null		7 ;
;		; <
private 
SingletonAccount  
(  !
)! "
{# $
} 	
public 
static 
void 
setSingletonAccount .
(. /
LismanService/ <
.< =
Account= D
accountReceivedE T
)T U
{V W
if 
( 
account 
== 
null 
)  
{! "
account 
= 
accountReceived (
;( )
} 
} 	
public 
static 
LismanService #
.# $
Account$ +
getSingletonAccount, ?
(? @
)@ A
{B C
if 
( 
account 
!= 
null 
)  
{! "
return 
account 
; 
} 
else 
{ 
return 
null 
; 
} 
} 	
} 
}   ¡–
C:\Users\Vik-t\Documents\Software Engineering\5to Semestre\TecnologÃ­as para la ConstrucciÃ³n\Proyecto\LISMAN\Lisman\Lisman\UserRegister.xaml.cs
	namespace 	
Lisman
 
{ 
public 

partial 
class 
UserRegister %
:& '
Window( .
{/ 0
public 
UserRegister 
( 
) 
{ 	
InitializeComponent 
(  
)  !
;! "
} 	
private 
void 
Button_Click_Cancel (
(( )
object) /
sender0 6
,6 7
RoutedEventArgs8 G
eH I
)I J
{ 	

MainWindow 
login 
= 
new "

MainWindow# -
(- .
). /
;/ 0
login 
. 
Show 
( 
) 
; 
this   
.   
Close   
(   
)   
;   
}!! 	
private## 
void## 
	SendEmail## 
(## 
String## %
destinationEmail##& 6
,##6 7
String##7 =
token##> C
)##C D
{##D E
String$$ 
originEmail$$ 
=$$  
$str$$! 6
;$$6 7
String%% 
passwordEmail%%  
=%%! "
$str%%# 1
;%%1 2
String&& 
subjectEmail&& 
=&&  !

Properties&&" ,
.&&, -
	Resources&&- 6
.&&6 7
subject_email&&7 D
;&&D E
String'' 
	bodyEmail'' 
='' 

Properties'' )
.'') *
	Resources''* 3
.''3 4

body_email''4 >
;''> ?
String(( 
url(( 
=(( 
$str(( P
+((Q R
token((S X
;((X Y
MailMessage,, 
mailMessage,, #
=,,$ %
new,,& )
MailMessage,,* 5
(,,5 6
originEmail,,6 A
,,,A B
destinationEmail,,B R
,,,R S
subjectEmail,,S _
,,,_ `
	bodyEmail,,` i
+,,j k
$str,,l r
+,,s t
url,,u x
),,x y
;,,y z
mailMessage-- 
.-- 

IsBodyHtml-- "
=--# $
true--% )
;--) *

SmtpClient// 

smtpClient// !
=//" #
new//$ '

SmtpClient//( 2
(//2 3
$str//3 C
)//C D
;//D E

smtpClient00 
.00 
	EnableSsl00  
=00! "
true00# '
;00' (

smtpClient11 
.11 !
UseDefaultCredentials11 ,
=11- .
false11/ 4
;114 5

smtpClient22 
.22 
Port22 
=22 
$num22 !
;22! "

smtpClient33 
.33 
Credentials33 "
=33# $
new33% (
System33) /
.33/ 0
Net330 3
.333 4
NetworkCredential334 E
(33E F
originEmail33F Q
,33Q R
passwordEmail33R _
)33_ `
;33` a

smtpClient55 
.55 
Send55 
(55 
mailMessage55 '
)55' (
;55( )

smtpClient66 
.66 
Dispose66 
(66 
)66  
;66  !
}:: 	
public<< 
void<< 
SaveData<< 
(<< 
)<< 
{<<  
if== 
(== 
validateEmptyFields== #
(==# $
)==$ %
&&==& (
ValidateData==) 5
(==5 6
)==6 7
)==7 8
{==9 :
try>> 
{>> 
using?? 
(?? 
var?? 
client?? %
=??& '
new??( +
LismanService??, 9
.??9 : 
AccountManagerClient??: N
(??N O
)??O P
)??P Q
{??R S
String@@ 
token@@ $
=@@% &
EncodePassword@@' 5
(@@5 6
Guid@@6 :
.@@: ;
NewGuid@@; B
(@@B C
)@@C D
.@@D E
ToString@@E M
(@@M N
)@@N O
)@@O P
;@@P Q
varAA 
accountSaveAA '
=AA( )
newAA* -
LismanServiceAA. ;
.AA; <
AccountAA< C
{AAD E
UserBB  
=BB! "
textField_userNameBB# 5
.BB5 6
TextBB6 :
,BB: ;
PasswordCC $
=CC% &
EncodePasswordCC' 5
(CC5 6 
passwordBox_passwordCC6 J
.CCJ K
PasswordCCK S
)CCS T
,CCT U
Registration_dateDD -
=DD. /
DateTimeDD0 8
.DD8 9
NowDD9 <
.DD< =
ToStringDD= E
(DDE F
)DDF G
,DDG H
Key_confirmationEE ,
=EE- .
tokenEE/ 4
,EE4 5
PlayerFF "
=FF# $
newFF% (
LismanServiceFF) 6
.FF6 7
PlayerFF7 =
{FF> ?

First_nameGG  *
=GG+ ,
textField_nameGG- ;
.GG; <
TextGG< @
,GG@ A
	Last_nameHH  )
=HH* +
textField_lastNameHH, >
.HH> ?
TextHH? C
,HHC D
EmailII  %
=II& '
textField_emailII( 7
.II7 8
TextII8 <
,II< =
}JJ 
}KK 
;KK 
ifLL 
(LL 
clientLL "
.LL" #

AddAccountLL# -
(LL- .
accountSaveLL. 9
)LL9 :
!=LL; =
-LL> ?
$numLL? @
)LL@ A
{LLB C
	SendEmailMM %
(MM% &
accountSaveMM& 1
.MM1 2
PlayerMM2 8
.MM8 9
EmailMM9 >
,MM> ?
tokenMM@ E
)MME F
;MMF G
varNN )
messageRegistrationSuccessfulNN  =
=NN> ?

PropertiesNN@ J
.NNJ K
	ResourcesNNK T
.NNT U+
message_registration_successfulNNU t
;NNt u

MessageBoxOO &
.OO& '
ShowOO' +
(OO+ ,)
messageRegistrationSuccessfulOO, I
)OOI J
;OOJ K

MainWindowPP &
loginPP' ,
=PP- .
newPP/ 2

MainWindowPP3 =
(PP= >
)PP> ?
;PP? @
loginQQ !
.QQ! "
ShowQQ" &
(QQ& '
)QQ' (
;QQ( )
thisRR  
.RR  !
CloseRR! &
(RR& '
)RR' (
;RR( )
}SS 
elseSS 
{SS  
varTT $
messageRegistrationErrorTT  8
=TT9 :

PropertiesTT; E
.TTE F
	ResourcesTTF O
.TTO P&
message_registration_errorTTP j
;TTj k

MessageBoxUU &
.UU& '
ShowUU' +
(UU+ ,$
messageRegistrationErrorUU, D
)UUD E
;UUE F
}VV 
}WW 
}XX 
catchXX 
(XX 
	ExceptionXX "
exXX# %
)XX% &
{XX' (
LoggerYY 
.YY 
logYY 
.YY 
ErrorYY $
(YY$ %
$strYY% :
+YY; <
exYY= ?
)YY? @
;YY@ A
}[[ 
}]] 
}^^ 	
private`` 
void`` 
button_save_Click`` &
(``& '
object``' -
sender``. 4
,``4 5
RoutedEventArgs``6 E
e``F G
)``G H
{aa 	
SaveDatabb 
(bb 
)bb 
;bb 
}cc 	
publicee 
voidee 
On_key_Down_Handleree '
(ee' (
objectee( .
senderee/ 5
,ee5 6
KeyEventArgsee7 C
inputKeyeeD L
)eeL M
{eeN O
ifff 
(ff 
inputKeyff 
.ff 
Keyff 
==ff 
Keyff  #
.ff# $
Returnff$ *
)ff* +
{ff, -
SaveDatagg 
(gg 
)gg 
;gg 
}hh 
}ii 	
publickk 
boolkk 
IsValidEmailkk  
(kk  !
stringkk! '
emailaddresskk( 4
)kk4 5
{kk6 7
Regexll 
expressionEmailll !
=ll" #
newll$ '
Regexll( -
(ll- .
$strll. K
)llK L
;llL M
returnmm 
expressionEmailmm "
.mm" #
IsMatchmm# *
(mm* +
emailaddressmm+ 7
)mm7 8
;mm8 9
}nn 	
publicpp 
boolpp 
ExistsEmailpp 
(pp  
Stringpp  &
emailAdresspp' 2
)pp2 3
{pp4 5
tryqq 
{qq 
usingrr 
(rr 
varrr 
clientrr !
=rr" #
newrr$ '
LismanServicerr( 5
.rr5 6
LoginManagerClientrr6 H
(rrH I
)rrI J
)rrJ K
{rrL M
returnss 
clientss !
.ss! "
EmailExistsss" -
(ss- .
emailAdressss. 9
)ss9 :
;ss: ;
}tt 
}uu 
catchuu 
(uu 
	Exceptionuu 
exuu !
)uu! "
{uu# $
Loggervv 
.vv 
logvv 
.vv 
Errorvv  
(vv  !
$strvv! 7
+vv8 9
exvv: <
)vv< =
;vv= >
returnww 
falseww 
;ww 
}xx 
}zz 	
public|| 
bool|| 
UserNameExists|| "
(||" #
String||# )
username||* 2
)||2 3
{||4 5
try}} 
{}} 
using~~ 
(~~ 
var~~ 
client~~ !
=~~" #
new~~$ '
LismanService~~( 5
.~~5 6
LoginManagerClient~~6 H
(~~H I
)~~I J
)~~J K
{~~L M
return 
client !
.! "
UserNameExists" 0
(0 1
username1 9
)9 :
;: ;
}
€€ 
}
 
catch
 
(
 
	Exception
 
ex
 !
)
! "
{
# $
Logger
‚‚ 
.
‚‚ 
log
‚‚ 
.
‚‚ 
Error
‚‚  
(
‚‚  !
$str
‚‚! <
+
‚‚= >
ex
‚‚? A
)
‚‚A B
;
‚‚B C
return
ƒƒ 
false
ƒƒ 
;
ƒƒ 
}
„„ 
}
‡‡ 	
public
‰‰ 
bool
‰‰ 
showErrorMessage
‰‰ $
(
‰‰$ %
String
‰‰% +
errorMessage
‰‰, 8
)
‰‰8 9
{
‰‰: ;

MessageBox
ŠŠ 
.
ŠŠ 
Show
ŠŠ 
(
ŠŠ 
errorMessage
ŠŠ (
)
ŠŠ( )
;
ŠŠ) *
return
‹‹ 
false
‹‹ 
;
‹‹ 
}
ŒŒ 	
public
 
bool
 !
validateEmptyFields
 '
(
' (
)
( )
{
* +
if
 
(
 
textField_name
 
.
 
Text
 #
==
$ &
string
' -
.
- .
Empty
. 3
)
3 4
{
5 6
return
 
showErrorMessage
 '
(
' (

Properties
( 2
.
2 3
	Resources
3 <
.
< = 
message_error_name
= O
)
O P
;
P Q
}
‘‘ 
if
’’ 
(
’’  
textField_lastName
’’ "
.
’’" #
Text
’’# '
==
’’( *
string
’’+ 1
.
’’1 2
Empty
’’2 7
)
’’7 8
{
’’9 :
return
““ 
showErrorMessage
““ '
(
““' (

Properties
““( 2
.
““2 3
	Resources
““3 <
.
““< =$
message_error_lastname
““= S
)
““S T
;
““T U
}
”” 
if
•• 
(
•• 
textField_email
•• 
.
••  
Text
••  $
==
••% '
string
••( .
.
••. /
Empty
••/ 4
)
••4 5
{
••6 7
return
–– 
showErrorMessage
–– '
(
––' (

Properties
––( 2
.
––2 3
	Resources
––3 <
.
––< =!
message_error_email
––= P
)
––P Q
;
––Q R
}
—— 
if
˜˜ 
(
˜˜  
textField_userName
˜˜ "
.
˜˜" #
Text
˜˜# '
==
˜˜( *
string
˜˜+ 1
.
˜˜1 2
Empty
˜˜2 7
)
˜˜7 8
{
˜˜9 :
return
™™ 
showErrorMessage
™™ '
(
™™' (

Properties
™™( 2
.
™™2 3
	Resources
™™3 <
.
™™< =#
message_error_usename
™™= R
)
™™R S
;
™™S T
}
šš 
if
›› 
(
›› "
passwordBox_password
›› $
.
››$ %
Password
››% -
==
››. 0
string
››1 7
.
››7 8
Empty
››8 =
)
››= >
{
››? @
return
œœ 
showErrorMessage
œœ '
(
œœ' (

Properties
œœ( 2
.
œœ2 3
	Resources
œœ3 <
.
œœ< =$
message_error_password
œœ= S
)
œœS T
;
œœT U
}
 
if
 
(
 )
passwordBox_confirmPassword
 +
.
+ ,
Password
, 4
==
5 7
string
8 >
.
> ?
Empty
? D
)
D E
{
F G
return
ŸŸ 
showErrorMessage
ŸŸ '
(
ŸŸ' (

Properties
ŸŸ( 2
.
ŸŸ2 3
	Resources
ŸŸ3 <
.
ŸŸ< =1
#message_error_confirmation_password
ŸŸ= `
)
ŸŸ` a
;
ŸŸa b
}
   
return
¢¢ 
true
¢¢ 
;
¢¢ 
}
££ 	
public
¥¥ 
bool
¥¥ 
ValidateData
¥¥  
(
¥¥  !
)
¥¥! "
{
¥¥# $
Regex
¦¦ 
rg
¦¦ 
=
¦¦ 
new
¦¦ 
Regex
¦¦  
(
¦¦  !
$str
¦¦! u
)
¦¦u v
;
¦¦v w
if
§§ 
(
§§ 
!
§§ 
rg
§§ 
.
§§ 
IsMatch
§§ 
(
§§ 
textField_name
§§ *
.
§§* +
Text
§§+ /
)
§§/ 0
)
§§0 1
{
§§2 3
return
¨¨ 
showErrorMessage
¨¨ '
(
¨¨' (

Properties
¨¨( 2
.
¨¨2 3
	Resources
¨¨3 <
.
¨¨< ="
message_invalid_name
¨¨= Q
)
¨¨Q R
;
¨¨R S
}
©© 
if
ªª 
(
ªª 
!
ªª 
rg
ªª 
.
ªª 
IsMatch
ªª 
(
ªª  
textField_lastName
ªª .
.
ªª. /
Text
ªª/ 3
)
ªª3 4
)
ªª4 5
{
ªª6 7
return
«« 
showErrorMessage
«« &
(
««& '

Properties
««' 1
.
««1 2
	Resources
««2 ;
.
««; <&
message_invalid_lastname
««< T
)
««T U
;
««U V
}
¬¬ 
else
­­ 
if
­­ 
(
­­ 
!
­­ 
IsValidEmail
­­ "
(
­­" #
textField_email
­­# 2
.
­­2 3
Text
­­3 7
)
­­7 8
)
­­8 9
{
­­9 :
return
®® 
showErrorMessage
®® '
(
®®' (

Properties
®®( 2
.
®®2 3
	Resources
®®3 <
.
®®< =#
message_invalid_email
®®= R
)
®®R S
;
®®S T
}
¯¯ 
else
¯¯ 
if
¯¯ 
(
¯¯ 
ExistsEmail
¯¯ "
(
¯¯" #
textField_email
¯¯# 2
.
¯¯2 3
Text
¯¯3 7
)
¯¯7 8
)
¯¯8 9
{
¯¯: ;
return
°° 
showErrorMessage
°° '
(
°°' (

Properties
°°( 2
.
°°2 3
	Resources
°°3 <
.
°°< ="
message_exists_email
°°= Q
)
°°Q R
;
°°R S
}
±± 
if
²² 
(
²² 
UserNameExists
²² 
(
²²  
textField_userName
²² 1
.
²²1 2
Text
²²2 6
)
²²6 7
)
²²7 8
{
²²9 :
return
³³ 
showErrorMessage
³³ (
(
³³( )

Properties
³³) 3
.
³³3 4
	Resources
³³4 =
.
³³= >%
message_exists_username
³³> U
)
³³U V
;
³³V W
}
´´ 
if
µµ 
(
µµ 
!
µµ "
passwordBox_password
µµ %
.
µµ% &
Password
µµ& .
.
µµ. /
Equals
µµ/ 5
(
µµ5 6)
passwordBox_confirmPassword
µµ6 Q
.
µµQ R
Password
µµR Z
)
µµZ [
)
µµ[ \
{
µµ\ ]
return
¶¶ 
showErrorMessage
¶¶ '
(
¶¶' (

Properties
¶¶( 2
.
¶¶2 3
	Resources
¶¶3 <
.
¶¶< =/
!message_error_passwords_different
¶¶= ^
)
¶¶^ _
;
¶¶_ `
}
·· 
return
¸¸ 
true
¸¸ 
;
¸¸ 
}
¹¹ 	
public
»» 
string
»» 
EncodePassword
»» $
(
»»$ %
string
»»% +
originalPassword
»», <
)
»»< =
{
¼¼ 	
SHA256
½½ 
sha256
½½ 
=
½½ 
SHA256Managed
½½ )
.
½½) *
Create
½½* 0
(
½½0 1
)
½½1 2
;
½½2 3
ASCIIEncoding
¾¾ 
encoding
¾¾ "
=
¾¾# $
new
¾¾% (
ASCIIEncoding
¾¾) 6
(
¾¾6 7
)
¾¾7 8
;
¾¾8 9
byte
¿¿ 
[
¿¿ 
]
¿¿ 
stream
¿¿ 
=
¿¿ 
null
¿¿  
;
¿¿  !
StringBuilder
ÀÀ 
sb
ÀÀ 
=
ÀÀ 
new
ÀÀ "
StringBuilder
ÀÀ# 0
(
ÀÀ0 1
)
ÀÀ1 2
;
ÀÀ2 3
stream
ÁÁ 
=
ÁÁ 
sha256
ÁÁ 
.
ÁÁ 
ComputeHash
ÁÁ '
(
ÁÁ' (
encoding
ÁÁ( 0
.
ÁÁ0 1
GetBytes
ÁÁ1 9
(
ÁÁ9 :
originalPassword
ÁÁ: J
)
ÁÁJ K
)
ÁÁK L
;
ÁÁL M
for
ÂÂ 
(
ÂÂ 
int
ÂÂ 
i
ÂÂ 
=
ÂÂ 
$num
ÂÂ 
;
ÂÂ 
i
ÂÂ 
<
ÂÂ 
stream
ÂÂ  &
.
ÂÂ& '
Length
ÂÂ' -
;
ÂÂ- .
i
ÂÂ/ 0
++
ÂÂ0 2
)
ÂÂ2 3
sb
ÂÂ4 6
.
ÂÂ6 7
AppendFormat
ÂÂ7 C
(
ÂÂC D
$str
ÂÂD L
,
ÂÂL M
stream
ÂÂN T
[
ÂÂT U
i
ÂÂU V
]
ÂÂV W
)
ÂÂW X
;
ÂÂX Y
return
ÃÃ 
sb
ÃÃ 
.
ÃÃ 
ToString
ÃÃ 
(
ÃÃ 
)
ÃÃ  
;
ÃÃ  !
}
ÅÅ 	
}
ÆÆ 
}ÇÇ ¯
‡C:\Users\Vik-t\Documents\Software Engineering\5to Semestre\TecnologÃ­as para la ConstrucciÃ³n\Proyecto\LISMAN\Lisman\Lisman\App.xaml.cs
	namespace		 	
Lisman		
 
{		 
public 

partial 
class 
App 
: 
Application *
{+ ,
App 
( 
) 
{ 	
} 	
} 
} ÙO
‰C:\Users\Vik-t\Documents\Software Engineering\5to Semestre\TecnologÃ­as para la ConstrucciÃ³n\Proyecto\LISMAN\Lisman\Lisman\Login.xaml.cs
	namespace 	
Lisman
 
{ 
public 

partial 
class 

MainWindow #
:$ %
Window& ,
{- .
public 

MainWindow 
( 
) 
{ 	
InitializeComponent 
(  
)  !
;! "
} 	
public 
Boolean 
ValidateFields %
(% &
)& '
{ 	
if 
( 
textField_user 
. 
Text "
==# %
$str& (
)( )
{* +
var   
messageError    
=  ! "

Properties  # -
.  - .
	Resources  . 7
.  7 8!
message_error_usename  8 M
;  M N

MessageBox!! 
.!! 
Show!! 
(!!  
messageError!!  ,
)!!, -
;!!- .
return"" 
false"" 
;"" 
}## 
if$$ 
($$  
passwordBox_password$$ $
.$$$ %
Password$$% -
==$$. 0
$str$$1 3
)$$3 4
{$$5 6
var%% 
messageError%%  
=%%! "

Properties%%# -
.%%- .
	Resources%%. 7
.%%7 8"
message_error_password%%8 N
;%%N O

MessageBox&& 
.&& 
Show&& 
(&&  
messageError&&  ,
)&&, -
;&&- .
return'' 
false'' 
;'' 
}(( 
return)) 
true)) 
;)) 
}** 	
private,, 
void,, 
Hyperlink_Click,, $
(,,$ %
object,,% +
sender,,, 2
,,,2 3
RoutedEventArgs,,4 C
e,,D E
),,E F
{-- 	
UserRegister.. 
userRegister.. $
=..% &
new..' *
UserRegister..+ 7
(..7 8
)..8 9
;..9 :
userRegister// 
.// 
Show// 
(// 
)// 
;// 
this00 
.00 
Close00 
(00 
)00 
;00 
}11 	
private33 
void33 "
MenuItem_Click_Spanish33 +
(33+ ,
object33, 2
sender333 9
,339 :
RoutedEventArgs33; J
e33K L
)33L M
{44 	
System55 
.55 
	Threading55 
.55 
Thread55 #
.55# $
CurrentThread55$ 1
.551 2
CurrentUICulture552 B
=55C D
new55E H
System55I O
.55O P
Globalization55P ]
.55] ^
CultureInfo55^ i
(55i j
$str55j q
)55q r
;55r s

MainWindow66 
login66 
=66 
new66 "

MainWindow66# -
(66- .
)66. /
;66/ 0
login77 
.77 
Show77 
(77 
)77 
;77 
this88 
.88 
Close88 
(88 
)88 
;88 
}99 	
private;; 
void;; "
MenuItem_Click_English;; +
(;;+ ,
object;;, 2
sender;;3 9
,;;9 :
RoutedEventArgs;;; J
e;;K L
);;L M
{<< 	
System== 
.== 
	Threading== 
.== 
Thread== #
.==# $
CurrentThread==$ 1
.==1 2
CurrentUICulture==2 B
===C D
new==E H
System==I O
.==O P
Globalization==P ]
.==] ^
CultureInfo==^ i
(==i j
$str==j l
)==l m
;==m n

MainWindow>> 
login>> 
=>> 
new>> "

MainWindow>># -
(>>- .
)>>. /
;>>/ 0
login?? 
.?? 
Show?? 
(?? 
)?? 
;?? 
this@@ 
.@@ 
Close@@ 
(@@ 
)@@ 
;@@ 
}AA 	
publicCC 
voidCC 
On_key_Down_HandlerCC '
(CC' (
objectCC( .
senderCC/ 5
,CC5 6
KeyEventArgsCC7 C
inputKeyCCD L
)CCL M
{CCN O
ifDD 
(DD 
inputKeyDD 
.DD 
KeyDD 
==DD 
KeyDD  #
.DD# $
ReturnDD$ *
)DD* +
{DD, -
	LoginUserEE 
(EE 
)EE 
;EE 
}FF 
}HH 	
privateKK 
voidKK 
btn_login_ClickKK $
(KK$ %
objectKK% +
senderKK, 2
,KK2 3
RoutedEventArgsKK4 C
eKKD E
)KKE F
{KKG H
	LoginUserLL 
(LL 
)LL 
;LL 
}MM 	
publicPP 
voidPP 
	LoginUserPP 
(PP 
)PP 
{PP  !
ifQQ 
(QQ 
ValidateFieldsQQ 
(QQ 
)QQ  
)QQ  !
{QQ" #
tryRR 
{SS 
usingTT 
(TT 
varTT 
clientTT %
=TT& '
newTT( +
LismanServiceTT, 9
.TT9 :
LoginManagerClientTT: L
(TTL M
)TTM N
)TTN O
{UU 
tryWW 
{XX 
LismanServiceYY )
.YY) *
AccountYY* 1
accountYY2 9
=YY: ;
clientYY< B
.YYB C
LoginAccountYYC O
(YYO P
textField_userYYP ^
.YY^ _
TextYY_ c
,YYc d
EncodePasswordYYe s
(YYs t!
passwordBox_password	YYt ˆ
.
YYˆ ‰
Password
YY‰ ‘
)
YY‘ ’
)
YY’ “
;
YY“ ”
ifZZ 
(ZZ  
accountZZ  '
!=ZZ( *
nullZZ+ /
)ZZ/ 0
{[[ 
if\\  "
(\\# $
account\\$ +
.\\+ ,
Key_confirmation\\, <
==\\= ?
$str\\@ B
)\\B C
{]]  !
SingletonAccount^^$ 4
.^^4 5
setSingletonAccount^^5 H
(^^H I
account^^I P
)^^P Q
;^^Q R
MainMenu__$ ,
mainMenu__- 5
=__6 7
new__8 ;
MainMenu__< D
(__D E
)__E F
;__F G
mainMenu``$ ,
.``, -
Show``- 1
(``1 2
)``2 3
;``3 4
thisaa$ (
.aa( )
Closeaa) .
(aa. /
)aa/ 0
;aa0 1
}bb  !
elsecc  $
{dd  !
varee$ '!
messageAccountConfirmee( =
=ee> ?

Propertiesee@ J
.eeJ K
	ResourceseeK T
.eeT U#
message_account_confirmeeU l
;eel m

MessageBoxff$ .
.ff. /
Showff/ 3
(ff3 4!
messageAccountConfirmff4 I
)ffI J
;ffJ K
}gg  !
}ii 
elsejj  
{kk 
varll  #
messageWarningLoginll$ 7
=ll8 9

Propertiesll: D
.llD E
	ResourcesllE N
.llN O!
message_warning_loginllO d
;lld e

MessageBoxmm  *
.mm* +
Showmm+ /
(mm/ 0
messageWarningLoginmm0 C
)mmC D
;mmD E
Loggeroo  &
.oo& '
logoo' *
.oo* +
Warnoo+ /
(oo/ 0
$stroo0 F
+ooG H
textField_userooI W
.ooW X
TextooX \
)oo\ ]
;oo] ^
}pp 
}qq 
catchrr 
(rr 
	Exceptionrr (
exrr) +
)rr+ ,
{ss 
Loggertt "
.tt" #
logtt# &
.tt& '
Errortt' ,
(tt, -
$strtt- C
+ttD E
exttF H
)ttH I
;ttI J
}uu 
}xx 
}yy 
catchyy 
(yy "
CommunicationExceptionyy /
eyy0 1
)yy1 2
{zz 

MessageBox{{ 
.{{ 
Show{{ #
({{# $
$str{{$ F
){{F G
;{{G H
}|| 
}~~ 
} 	
public
 
string
 
EncodePassword
 $
(
$ %
string
% +
originalPassword
, <
)
< =
{
‚‚ 	
SHA256
ƒƒ 
sha256
ƒƒ 
=
ƒƒ 
SHA256Managed
ƒƒ )
.
ƒƒ) *
Create
ƒƒ* 0
(
ƒƒ0 1
)
ƒƒ1 2
;
ƒƒ2 3
ASCIIEncoding
„„ 
encoding
„„ "
=
„„# $
new
„„% (
ASCIIEncoding
„„) 6
(
„„6 7
)
„„7 8
;
„„8 9
byte
…… 
[
…… 
]
…… 
stream
…… 
=
…… 
null
……  
;
……  !
StringBuilder
†† 
sb
†† 
=
†† 
new
†† "
StringBuilder
††# 0
(
††0 1
)
††1 2
;
††2 3
stream
‡‡ 
=
‡‡ 
sha256
‡‡ 
.
‡‡ 
ComputeHash
‡‡ '
(
‡‡' (
encoding
‡‡( 0
.
‡‡0 1
GetBytes
‡‡1 9
(
‡‡9 :
originalPassword
‡‡: J
)
‡‡J K
)
‡‡K L
;
‡‡L M
for
ˆˆ 
(
ˆˆ 
int
ˆˆ 
i
ˆˆ 
=
ˆˆ 
$num
ˆˆ 
;
ˆˆ 
i
ˆˆ 
<
ˆˆ 
stream
ˆˆ  &
.
ˆˆ& '
Length
ˆˆ' -
;
ˆˆ- .
i
ˆˆ/ 0
++
ˆˆ0 2
)
ˆˆ2 3
sb
ˆˆ4 6
.
ˆˆ6 7
AppendFormat
ˆˆ7 C
(
ˆˆC D
$str
ˆˆD L
,
ˆˆL M
stream
ˆˆN T
[
ˆˆT U
i
ˆˆU V
]
ˆˆV W
)
ˆˆW X
;
ˆˆX Y
return
‰‰ 
sb
‰‰ 
.
‰‰ 
ToString
‰‰ 
(
‰‰ 
)
‰‰  
;
‰‰  !
}
ŠŠ 	
}
 
} Ú
–C:\Users\Vik-t\Documents\Software Engineering\5to Semestre\TecnologÃ­as para la ConstrucciÃ³n\Proyecto\LISMAN\Lisman\Lisman\Properties\AssemblyInfo.cs
[

 
assembly

 	
:

	 

AssemblyTitle

 
(

 
$str

 !
)

! "
]

" #
[ 
assembly 	
:	 

AssemblyDescription 
( 
$str !
)! "
]" #
[ 
assembly 	
:	 
!
AssemblyConfiguration  
(  !
$str! #
)# $
]$ %
[ 
assembly 	
:	 

AssemblyCompany 
( 
$str 
) 
] 
[ 
assembly 	
:	 

AssemblyProduct 
( 
$str #
)# $
]$ %
[ 
assembly 	
:	 

AssemblyCopyright 
( 
$str 0
)0 1
]1 2
[ 
assembly 	
:	 

AssemblyTrademark 
( 
$str 
)  
]  !
[ 
assembly 	
:	 

AssemblyCulture 
( 
$str 
) 
] 
[ 
assembly 	
:	 


ComVisible 
( 
false 
) 
] 
["" 
assembly"" 	
:""	 

	ThemeInfo"" 
("" &
ResourceDictionaryLocation## 
.## 
None## #
,### $&
ResourceDictionaryLocation&& 
.&& 
SourceAssembly&& -
))) 
])) 
[66 
assembly66 	
:66	 

AssemblyVersion66 
(66 
$str66 $
)66$ %
]66% &
[77 
assembly77 	
:77	 

AssemblyFileVersion77 
(77 
$str77 (
)77( )
]77) *
[88 
assembly88 	
:88	 

log4net88 
.88 
Config88 
.88 
XmlConfigurator88 )
(88) *

ConfigFile88* 4
=885 6
$str887 G
)88G H
]88H I